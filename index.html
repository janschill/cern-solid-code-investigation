<p><strong>CERN-Solid Code Investigation</strong><br />
Proof of Concept and Prospects<br />
</p><p>by<br />
</p><p><strong>Jan Schill</strong><br />
schi@itu.dk</p><p>Supervisors:<br />
</p><p><strong>Philippe Bonnet</strong> (ITU)<br />
phbo@itu.dk</p><p><strong>Maria Dimou</strong> (CERN)<br />
maria.dimou@cern.ch</p><p>A thesis presented for the degree of<br />
Master of Science</p><p><img src="thesis/latex/assets/university.jpg" style="width:40.0%" alt="image" /></p><p>Computer Science<br />
IT University of Copenhagen<br />
Denmark<br />
01.06.2021</p><h1 id="introduction">Introduction</h1><h2 id="context">Context</h2><p>The Web was created in 1989 by Sir Tim Berners-Lee while working at the institution of <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> “ to allow people to work together by combining their knowledge in a web of hypertext documents” <span class="citation" data-cites="timbl-bio">(Berners-Lee 2020)</span>. This brilliant idea has ever since grown as an essential part of our lives <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span>. While bringing a new platform for innovation into existence, a new level of oppression and surveillance that has never been seen before has facilitated without most even realizing it. Data are harvested and analyzed to generate models describing and predicting human behavior far beyond what is morally tolerable. These actions permit large amounts of wealth as capitalistic and governmental bodies enjoy a great interest in these models to generate more profit or more control. The escalation of attraction towards data has led to the construction of so-called <em>data silos</em>. Data gatherers built attractive applications for users while locking them into their walled gardens to have all the data for themselves and then sell it.</p><p>Through whistle-blowing, active journalism, and technical education, a new wave of hope arises in the ocean of data hunting. Not giving up on the Web, which has in its little over 30 years of lifetime proven its paramount act in state, society, and the economy, Sir Tim has an adjustment for the Web specified. With the help of several Web enthusiasts, companies, and even governments, they founded the idea of Solid.</p><p>Solid aims to return data control to the users. To achieve full data sovereignty, it specifies a new way of building applications on the Web through several technical reports. That lets the users control their data and can decide who can see what. Like the Web, which was also defined by technical reports and prototypes, it is for everyone and is not limited by anything.</p><p>“Being the Web’s birthplace, <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> remains a High Energy Physics laboratory; hence, its primary mission is to run an accelerator, its detectors, and the relevant experiments. Computing is of paramount importance for filtering, storing, distributing, accessing, analyzing the experimental data. Nevertheless, due to its large and distributed user base, <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> offers sophisticated solutions on all software application fronts. In terms of price and transparency, proprietary packages have been disappointing. Following the raising worldwide awareness of personal data ownership and sovereignty, <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> is interested in Solid.” <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span></p><h2 id="goal">Goal</h2><p>The work presented in this paper will conclude the <em><span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>-Solid Code Investigation</em> project <span class="citation" data-cites="cern-solid-code-investigation-project-description">(“CERN-Solid Code Investigation,” n.d.)</span>. Where the previous job done in <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span> focused on analyzing the Solid ecosystem, this body of work will focus on the remaining points defined in the project description <span class="citation" data-cites="cern-solid-code-investigation-project-description">(“CERN-Solid Code Investigation,” n.d.)</span>. The remaining issues include developing two modules integrating Solid principles programmatically into existing software from <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>, these will be presented with their design choices, and the challenges met. Further, these developments will be evaluated and analyzed based on the quality attributes of security, performance, and usability. Followed by a section identifying the challenges with Solid in its current state and how traditional software, namely one from <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> called Indico, has issues adopting a <em>Solid-way</em> of building software. The last section will introduce a possible continuation for <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> as this project aims to determine how <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> can be involved in the Solid ecosystem and the fate of the Web.</p><h1 id="related-work">Related Work</h1><p>This chapter will hold the parts of the project coming from the outside, all the relevant efforts happening in the Solid Community or <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s involvement in the collaboration.</p><h2 id="background">Background</h2><p>The <em><span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>-Solid Code Investigation</em> project <span class="citation" data-cites="cern-solid-code-investigation-project-description">(“CERN-Solid Code Investigation,” n.d.)</span> aims at linking <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> with Solid. Some of this linkage has been done forming a status quo check of the Solid ecosystem in <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span>. This previous work and the efforts around the two <span data-acronym-label="poc" data-acronym-form="plural+short">pocs</span> shall give insights into a symbiosis of <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> and Solid.</p><p>The following sections in this chapter will introduce the two systems and their significant subsystems, modules, libraries, or techniques.</p><h2 id="indico">Indico</h2><p>Indico is one of CERN’s most sophisticated software projects. It is an event management tool, giving users a means to organize complex meetings or conferences with an easy-to-use interface. It was started in 2002 as a <em>European project</em> and has been in production at CERN ever since. It is used daily to facilitate more than 600,000 events at CERN. It has helped others like the UN “to put in place an efficient registration and accreditation workflow that greatly reduced waiting times for everyone” at conferences with more than 180,000 participants in total <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span>.</p><h3 id="events">Events</h3><p>Being an event management tool at Indico’s core lies the <code>Event</code> class. The Event’s <span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> is presented in <a href="#fig:indico-event-interface" data-reference-type="ref" data-reference="fig:indico-event-interface">2.1</a>, showing all sorts of attachable information.</p><figure><img src="thesis/latex/assets/indico-event-interface.png" id="fig:indico-event-interface" style="width:60.0%" alt="" /><figcaption><span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> of an Indico event.<span label="fig:indico-event-interface"></span></figcaption></figure><h3 id="storage-mechanisms">Storage Mechanisms</h3><p>All events, all information in these events, file uploads, everything put into Indico are stored in a relational database on centralized servers. <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s Indico instance is hosted on-premise in their own data centers. Another crucial feature of Indico is the permanent archival of event material and metadata <span class="citation" data-cites="cern-indico">(CERN 2020)</span>. It allows lifetime access to all events hosted on the platform. As an example, one can easily browse to the event "Big Data and Social Media" held by Vint Cerf in 2018 <span class="citation" data-cites="vint-cerf">(“Big Data and Social Media,” n.d.)</span> and have access to description, recording, and slides, or even a presentation given in 2004 about "Practical Use of XML" <span class="citation" data-cites="titov">(“Practical Use of Xml,” n.d.)</span>.</p><h4 id="eventsettingsproxy">EventSettingsProxy</h4><p><br />
A <em>proxy class</em> enables storage for event-specific settings. Commonly stored data types are contact email addresses for an event. In Indico these <code>EventSettingsProxy</code> are stored in a database table called <code>settings</code>. Adding a new <code>setting</code> for the <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span>, it will receive a field in the row specific to the event.</p><h3 id="conferences">Conferences</h3><p>In Indico, an event can be simple meetings, lectures, or all kinds of presentations. Additionally, Indico allows the creation and management of conferences. Conferences are more complex events with several more features, including registration, call-for-abstracts, program definition, payments, and more <span class="citation" data-cites="cern-indico-docs">(CERN, n.d.)</span>. The conference registration is especially interesting for this project as it is part of the <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span>.</p><h4 id="conference-registration">Conference Registration</h4><p><br />
Once a conference is created, the conference manager needs to make a registration form to allow signups to the event. This form is created in Indico’s backend and has default personal information fields but can be expanded as much as needed with free text fields. Payment for participation also needs to be enabled in this step. Meaning, as soon as a user fills in all the mandatory information and submits it, a successfully finished payment prompt will only complete the registration.</p><h2 id="solid">Solid</h2><p>An initial introduction to Solid was given as part of a previous <em>research project</em> <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span> in preparation for this thesis. In the <em>research project</em>, the Solid specification was, among other things, summarized and analyzed. This section will reiterate and study the subsequent experiment-relevant parts further.</p><h3 id="authentication-with-solid">Authentication With Solid</h3><p>In the Solid ecosystem, agents identify themselves with their WebID and prove their ownership through the <span data-acronym-label="solidoidc" data-acronym-form="singular+short">solidoidc</span> protocol, a flavor of <span data-acronym-label="oidc" data-acronym-form="singular+short">oidc</span>. For further explanation and flow diagrams through the authentication process, see either the work done in the previous report <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span> or the <span data-acronym-label="solidoidc" data-acronym-form="singular+short">solidoidc</span> specification itself <span class="citation" data-cites="solid-ecosystem-oidc">((Inrupt), Pavlik, and Zagidulin 2021)</span>.</p><p>To help with the complex authentication flow of <span data-acronym-label="solidoidc" data-acronym-form="singular+short">solidoidc</span> a few libraries have been developed by different actors. Two libraries relevant for this project exist; their relevancy is discussed in the chapter <a href="#chapter:investigation" data-reference-type="ref" data-reference="chapter:investigation">3</a> under the section <a href="#subsubsection:design" data-reference-type="ref" data-reference="subsubsection:design">3.1.1.3</a>.</p><table><caption>Two Solid authentication libraries.<span label="table:0"></span></caption><thead><tr class="header"><th style="text-align: left;">Name</th><th style="text-align: left;">Solid Auth Fetcher</th><th style="text-align: left;">solid-client-authn</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">Repository URL</td><td style="text-align: left;"><a href="github.com/solid/solid-auth-fetcher">github.com/solid/solid-auth-fetcher</a></td><td style="text-align: left;"><a href="github.com/inrupt/solid-client-authn-js">github.com/inrupt/solid-client-authn-js</a></td></tr><tr class="even"><td style="text-align: left;">Language</td><td style="text-align: left;"><span data-acronym-label="ts" data-acronym-form="singular+short">ts</span></td><td style="text-align: left;"><span data-acronym-label="ts" data-acronym-form="singular+short">ts</span></td></tr><tr class="odd"><td style="text-align: left;">Maintainer</td><td style="text-align: left;">Solid Community</td><td style="text-align: left;">Inrupt</td></tr><tr class="even"><td style="text-align: left;">Last updated</td><td style="text-align: left;">2021/03/05</td><td style="text-align: left;">2021/05/12</td></tr></tbody></table><p>Solid Auth Fetcher is a fork of the <code>solid-client-authn</code> developed by Inrupt but has not seen much development recently. With the quickly evolving Solid ecosystem, it is vital to have working and up-to-date libraries to build applications in this ecosystem. Both libraries are similar in their core functionality, and both support authenticating with the latest Solid servers, and thus the choice is not as important. Still, the frequency of commits in Inrupt’s repository indicates a more active development and a more reliable source when problems arise. This way, one does not rely on support from open-source developers, which is, per se, not a bad thing.</p><p>For this simple reason, the programming of the <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> where Solid authentication was needed was enabled through Inrupt’s <code>solid-client-authn</code>.</p><h3 id="reading-and-writing-linked-data">Reading and Writing Linked Data</h3><p>Data in Solid is stored as Linked Data <span class="citation" data-cites="Malhotra:15:LDP">(Malhotra, Speicher, and Arwe 2015)</span>. <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span> is a framework for representing Linked Data information in the Web <span class="citation" data-cites="Cyganiak:14:RCA">(Cyganiak, Wood, and Lanthaler 2014)</span>. The default file format implemented by the existing Solid servers is <em>Turtle</em> <span class="citation" data-cites="Prud:hommeaux:14:RT">(Prud’hommeaux and Carothers 2014)</span>.</p><p>The graph-based data model from using <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span> also requires additional computation as it is not natively supported with helper functions in <span data-acronym-label="js" data-acronym-form="singular+short">js</span>, such as <span data-acronym-label="json" data-acronym-form="singular+short">json</span>. The benefit of using <span data-acronym-label="json" data-acronym-form="singular+short">json</span> in <span data-acronym-label="js" data-acronym-form="singular+short">js</span> is that a <span data-acronym-label="json" data-acronym-form="singular+short">json</span> object is automatically parsed as an object and can be operated on by using the dot notation to access attributes of the <span data-acronym-label="json" data-acronym-form="singular+short">json</span> data structure. For <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span>, this is not the case for an into the program loaded Turtle resource.</p><p>Fortunately, existing libraries come to the rescue allowing such operations on the <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span>-based data type. Again Inrupt and the Solid Community offer solutions. For the same reasons, it was decided to use Inrupt’s solution for this development as it acts as a convenient wrapper to the bare bone Linked Data <span data-acronym-label="api" data-acronym-form="singular+short">api</span> implemented in <code>rdflib.js</code> <span class="citation" data-cites="rdflib-js">(<span class="citeproc-not-found" data-reference-id="rdflib-js"><strong>???</strong></span>)</span>. Even though working with <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span> can be quickly done using <code>rdflib.js</code>, Inrupt’s libraries tie nicely together and allow, for instance, a seamless passing of an authenticated session to its client library to enable authenticated requests to protected resources.</p><p>As mentioned before and looked at in detail in <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span>, the Turtle format is a graph data structure built up with triplets—a triplet statement in its simplest form a sequence of (subject, predicate, object) terms <span class="citation" data-cites="Prud:hommeaux:14:RT">(Prud’hommeaux and Carothers 2014)</span>.</p><p>Inrupt decided to call this construct a <code>Thing</code>, a data entity associated with a set of data or properties of this <code>Thing</code> <span class="citation" data-cites="inrupt-thing">(“Thing,” n.d.)</span>. A <code>SolidDataset</code> is a set of things <span class="citation" data-cites="inrupt-dataset">(“SolidDataset,” n.d.)</span>.</p><p>The following code listing shows how to use helper methods to extract data from a Turtle file loaded by sending a request to the WebID profile document <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span>.</p><pre id="lst:2" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Basic usage of Inrupt&#39;s solid-client library." label="lst:2"><code>// Import statements omitted for this demonstration
// 1
const myDataset = await getSolidDataset(
  &quot;https://janschill.net/profile/card&quot;
);
// 2
const myProfile = getThing(
  myDataset,
  &quot;https://janschill.net/profile/card#me&quot;
);
// 3
const fn = getStringNoLocale(myProfile, VCARD.fn);
// fn =&gt; &quot;Jan Schill&quot;</code></pre><ol><li><p><strong>Fetching the Turtle resource at the given <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span></strong>: Notice here the WebID profile document <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> is being loaded, referring to the document describing the agent behind the WebID <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span>.</p></li><li><p><strong>Loading triplet statement into a variable</strong>: Now, the actual triplet statement containing information behind this specific agent is mapped to the <code>myProfile</code> variable.</p></li><li><p><strong>Reading a value from a triplet</strong>: Every subject and predicate is a <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span>. The subject here is the loaded profile from the WebID <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> and the to be extracted value from the statement matching on the subject and predicate. When evaluated, the predicate <code>VCARD.fn</code> returns a <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span>, which on dereferencing describes what kind of value can be obtained from the object.</p></li></ol><h3 id="authorization-through-wac">Authorization Through WAC</h3><p>The as per Solid specification decided authorization mechanism is through <span data-acronym-label="wac" data-acronym-form="singular+short">wac</span> <span class="citation" data-cites="wac">(“Web Access Control (Wac),” n.d.)</span>. The majority of Solid servers use <span data-acronym-label="acl" data-acronym-form="plural+short">acls</span> to manage the access modes on containers and resources. An <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> contains all the users and their permitted access rights to the resources on the pod. It may include a <em>default</em>, or <em>public</em> entry but must contain a reference to who the owner is to what the <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> is describing. <span data-acronym-label="acl" data-acronym-form="plural+short">acls</span> are convenient as they allow easy and fast access to who has access to a specific resource. In contrast, <em>capability tickets</em> are the preferred technique when finding out what a particular user has access to <span class="citation" data-cites="stallings">(Stallings and Brown 2014)</span>.</p><h3 id="application-launcher">Application Launcher</h3><p>A so-called <em>application launcher</em> can mitigate a later presented discovery of a flaw in assigning unnecessary full access controls. The inconvenience lies in the fact when an application asks the client for what the allowed scope to its data pod is, most often, complete access control on the root container is needed – this is against the security principle or tactic called <em>least privilege</em>. The least privilege means to give actors of a system only exactly as much access they need and never more. The reason why this finds its way into the <span data-acronym-label="poc" data-acronym-form="plural+short">pocs</span> will be presented in the chapter <a href="#chapter:investigation" data-reference-type="ref" data-reference="chapter:investigation">3</a>.</p><p>For now, an implementation shall be introduced showing how the application launcher can avoid this problem. When an application wants to create <span data-acronym-label="acl" data-acronym-form="plural+short">acls</span> on a data pod, it needs the before-mentioned <em>control</em> access. <em>Control</em> access is the highest access mode in <span data-acronym-label="wac" data-acronym-form="singular+short">wac</span>. An agent with <em>control</em> access can read, write, and modify <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> resources – meaning the owner of files can be changed as an example. In the initial <span data-acronym-label="solidoidc" data-acronym-form="singular+short">solidoidc</span> flow, one step asks for the application’s allowed access scope. The asked for scope is for the root container of the data pod – a more fine-grained control to limit access on a specific child container does not exist. An application launcher is a Solid app that has full control of the pod and must be trusted. When a new application wants use a data pod and needs control access but could, in theory, be limited to a specific container, the application launcher will create the appropriate <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> files to only allow precisely this. This works because all access modes are defined in <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> files, which can be dynamically created. The application will, with this launcher, now have complete control of the container it operates and stores data in but cannot reach outside of its container.</p><p>The source code for a standalone application launcher in <span data-acronym-label="js" data-acronym-form="singular+short">js</span> exists here <span class="citation" data-cites="app-launcher">(“Solid-App-Launcher,” n.d.)</span>.</p><h1 id="chapter:investigation">Investigation</h1><h2 id="proof-of-concepts">Proof of Concepts</h2><p>One central part of the investigation into the CERN-Solid collaboration is the development of a <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span>. The <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> contains the creation of two independent software modules in an existing system from <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>. These software modules should show how to develop with the Solid principles in mind and to the Solid standard.</p><p>The goal of these modules is the symbiosis of decentralized stored data in a highly functional system without comprising its performance, security, or usability.</p><h3 id="poc1">POC 1: Commenting Module for Events in Indico</h3><p>The first <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> is supposed to enrich the Indico system with some Solid-based content. The product owner and chief developer of Indico, the CERN-Solid project manager, and a Solid developer decided a commenting module for Indico events is an adequate solution to include data from an external storage entity, namely a data pod. The ability to allow users of Indico to leave a comment on an event, which then lives in a data pod wholly controlled by the author of the comment, was concluded to be an attractive feature for Indico.</p><h4 id="architectural-analysis-and-synthesis">Architectural Analysis and Synthesis</h4><p><br />
In this section, the architectural analysis will be looked into. The system’s scope and its attributes will be defined based on the system description and the <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> from the analysis of stakeholder needs.</p><h5 id="system-description">System Description</h5><p><br />
The system aims at enabling commenting in web applications with decentralized storage on data pods. The system in the context of Indico intends to allow Indico users with a data pod to comment on specific Indico events. It thus needs to enable authentication with a Solid <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span> to obtain and manage an authenticated session with a data pod. The module requires an input field to receive user input, which can then be transformed to structured data in the form of Linked Data and sent to the data pod. On an invalid session or wrongly put input, the module should appropriately tell the user. Comments need to be loaded from different data pods and be rendered into the <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span>. When a new comment is added, the interface needs to be updated accordingly.</p><h5 id="features">Features</h5><p><br />
The core functionality of the module consists of the following three features:</p><ol><li><p>A user with a Solid account can authenticate with their Solid <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span></p></li><li><p>A user can compose a text which is stored on their data pod</p></li><li><p>A user can see other users’ comments</p></li></ol><p>These features allow the development of a module that gives users the ability to authenticate themselves using their WebID, store the created data in the shape of comments in their data pod, and see decentralized stored data from other users.</p><h5 id="type-of-users">Type of Users</h5><p><br />
There are two types of users in the system. The first group of users is the active authors of comments or observers of such. These will interact with the module by logging in to their data pod and compose comments. The other subset of users is the administrators of the application (Indico). This type of user is interested in keeping the tone of comments to the community guidelines and not allow any misuse.</p><h5 id="context-diagram">Context Diagram</h5><p><br />
Other types of involved parties are the ones maintaining or developing the system and application. These are shown in the context diagram <a href="#fig:poc-comment-context_diagram" data-reference-type="ref" data-reference="fig:poc-comment-context_diagram">[fig:poc-comment-context_diagram]</a>.</p><figure><img src="prototype/graphs/poc-comment-context_diagram.png" style="width:80.0%" alt="" /><figcaption>Context diagram showing users and external services of the system.</figcaption></figure><p><span id="fig:poc-comment-context_diagram" label="fig:poc-comment-context_diagram">[fig:poc-comment-context_diagram]</span></p><h5 id="sequence-diagram">Sequence Diagram</h5><p><br />
A sequence diagram brings a suitable overview for any software architecture but especially useful for decentralized systems or those containing several separate services. It gives a clear understanding of each service’s tasks and their relationship when passing messages around in the overall design.</p><figure><img src="prototype/graphs/poc-comment-sequence_diagram.png" alt="" /><figcaption>Sequence diagram showing the sequential process through posting a comment.</figcaption></figure><p><span id="fig:poc-comment-sequence_diagram" label="fig:poc-comment-sequence_diagram">[fig:poc-comment-sequence_diagram]</span></p><h5 id="poc1-stakeholders">Stakeholders</h5><p><br />
This section covers the various stakeholders concerning the system. The stakeholders include active users and various external and internal stakeholders impacted by the system or who have a significant say in the development process.</p><p>The <strong>product owner</strong> is responsible for the product, in this case, Indico. Usually, they plan repeated fixed time-boxes in which new features are developed, or the existing software is maintained. They are constantly evaluating the state of the software and try to satisfy other stakeholders such as investors or the system users themselves. The main concerns of the product owner are to stay innovative while no compromising the quality of the existing software.</p><p>The <strong>internal developer</strong> is responsible for executing the decision made by, or together with, the product owner. The developer is also maintaining the software and is the one working with it daily and can make assumptions about the evolution of the software. Their concerns lie in the maintainability of the software through its evolutionary cycle and onboarding new developers.</p><h5 id="drivers">Drivers</h5><p><br />
The architectural drivers or <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> can be specified using “-illities”. These <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> were defined with the stakeholders together in several meetings in which the existing <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> of the system, where the <em>comment</em> module would be embedded into, were drawn up. <em>Security</em> and <em>Performance</em> are of utmost priority to the chief developer and product owner. For the collaboration manager, having used Solid for a while, it was clear that the module is usable, requires as little effort as possible, and causes the lowest friction.</p><ol><li><p>Security</p></li><li><p>Performance</p></li><li><p>Usability</p></li></ol><h4 id="user-interface">User Interface</h4><p><br />
For various held meetings and presentations, a visual representation of the to-be-developed module helps guide the audience through the process. For the comment module, a <span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> was designed in graphical software to ease the explanation of the goals for the module. The existing Indico color scheme was adopted to blend into the system.</p><figure><img src="prototype/poc-solid-comment-description.png" id="fig:poc-solid-comment-description" style="width:90.0%" alt="" /><figcaption><span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> showing the comment module: Description.<span label="fig:poc-solid-comment-description"></span></figcaption></figure><figure><img src="prototype/poc-solid-comment-agenda.png" id="fig:poc-solid-comment-agenda" style="width:90.0%" alt="" /><figcaption><span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> showing the comment module: FAQ.<span label="fig:poc-solid-comment-agenda"></span></figcaption></figure><figure><img src="prototype/poc-solid-comment-comments.png" id="fig:poc-solid-comment-comments" style="width:50.0%" alt="" /><figcaption><span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> showing the comment module: Comments.<span label="fig:poc-solid-comment-comments"></span></figcaption></figure><h4 id="subsubsection:design">Design</h4><p><br />
For the implementation of this module, several design decisions had to be made from the fundamental choice of the module running on the client device or be computed on the server and then propagated to the client afterward or even with a microservice proxying all traffic to enable Solid without changing Indico. Other design challenges were around how to protect the resources holding the comment information. These resources reside on the external data pod and need to be fetched from the application and read by other agents. Can <span data-acronym-label="acl" data-acronym-form="plural+short">acls</span> be configured to allow the specific use-case and other questions to come up and had to be considered?</p><h5 id="client--versus-server-side-versus-microservice">Client- Versus Server-Side Versus Microservice</h5><p><br />
When an agent browses to a running instance of Indico most of the functionality is being prepared on the server hosting Indico. It retrieves the specific request, builds the <span data-acronym-label="html" data-acronym-form="singular+short">html</span>, and sends it to the user. For Indico most of the functionality is built with Python and the web framework Flask. Sometimes functionality needs to be closer to the user, an example is a dynamic rendering of <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span> elements. Dynamic rendering is useful when new data is shown right away without a blank white screen on a page reload. Indico does send <span data-acronym-label="js" data-acronym-form="singular+short">js</span>, which is used for client-side features, but it focuses on keeping most of its components on the server.</p><p>To make the right decision if the module should be primarily developed for the client- or server-side or even as a microservice, a list of requirements to the module had to be defined. With the specified requirements in place, it had to be figured out how much functionality can be extracted from existing libraries and how much needed to be implemented with the new module. Implementing existing functionality for a new programming language would defeat the <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span>’s purpose of showing how an existing software could work with the Solid principles.</p><p>The rudimentary set of features to enable commenting for users in Indico while saving the data in a data pod includes:</p><ol><li><p>Authentication with a Solid <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span></p></li><li><p>(Authenticated) Requests to a data pod</p></li><li><p>Parsing of structured data (Linked Data)</p></li></ol><h5 id="client-approach">Client Approach</h5><p><br />
The module runs in the browser and is therefore written in <span data-acronym-label="js" data-acronym-form="singular+short">js</span>. A programming language that compiles to <span data-acronym-label="js" data-acronym-form="singular+short">js</span>, such as <span data-acronym-label="ts" data-acronym-form="singular+short">ts</span>, is also possible. A browser solution means Indico remains primarily untouched but would have to serve the needed <span data-acronym-label="js" data-acronym-form="singular+short">js</span> to the client on traffic to an event endpoint where the comment module is integrated.</p><table><caption>Existing solutions to problems for a client approach.<span label="table:1"></span></caption><thead><tr class="header"><th style="text-align: left;">Problem</th><th style="text-align: left;">Solution</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">Language</td><td style="text-align: left;"><span data-acronym-label="js" data-acronym-form="singular+short">js</span> or <span data-acronym-label="ts" data-acronym-form="singular+short">ts</span></td></tr><tr class="even"><td style="text-align: left;">Framework</td><td style="text-align: left;">Native <span data-acronym-label="js" data-acronym-form="singular+short">js</span></td></tr><tr class="odd"><td style="text-align: left;">Client</td><td style="text-align: left;">solid-client-js <span class="citation" data-cites="solid-client-js">(“Solid Javascript Client: Solid-Client,” n.d.)</span></td></tr><tr class="even"><td style="text-align: left;">Authentication</td><td style="text-align: left;">solid-client-authn-browser <span class="citation" data-cites="solid-client-authn-browser">(“Solid Javascript Authentication - Solid-Client-Authn,” n.d.a)</span></td></tr><tr class="odd"><td style="text-align: left;">RDF</td><td style="text-align: left;">solid-common-vocab-js <span class="citation" data-cites="solid-common-vocab-js">(“The Solid Common Vocab Library for Javascript,” n.d.)</span>, rdflib.js <span class="citation" data-cites="rdflib.js">(“Rdflib.js,” n.d.)</span></td></tr></tbody></table><p>The communication flow with the data pod and the module would happen primarily from the browser.</p><figure><img src="prototype/graphs/poc-infrastructure-frontend.jpeg" id="fig:poc-infrastructure-frontend" style="width:80.0%" alt="" /><figcaption>Communication flow for a module developed on the client.<span label="fig:poc-infrastructure-frontend"></span></figcaption></figure><h5 id="microservice-approach">Microservice Approach</h5><p><br />
The microservice approach would allow developing the needed Solid logic on a separate service, which proxies all Solid related traffic and enables the Solid functionality. Most of the libraries from the client implementation can be used as well, as both developments would be written in <span data-acronym-label="js" data-acronym-form="singular+short">js</span>. Only the authentication flow would work a bit differently.</p><table><caption>Existing solutions to problems for a microservice approach.<span label="table:2"></span></caption><thead><tr class="header"><th style="text-align: left;">Problem</th><th style="text-align: left;">Solution</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">Language</td><td style="text-align: left;"><span data-acronym-label="js" data-acronym-form="singular+short">js</span> or <span data-acronym-label="ts" data-acronym-form="singular+short">ts</span></td></tr><tr class="even"><td style="text-align: left;">Framework</td><td style="text-align: left;">Node.js</td></tr><tr class="odd"><td style="text-align: left;">Client</td><td style="text-align: left;">solid-client-js <span class="citation" data-cites="solid-client-js">(“Solid Javascript Client: Solid-Client,” n.d.)</span></td></tr><tr class="even"><td style="text-align: left;">Authentication</td><td style="text-align: left;">solid-client-authn-node <span class="citation" data-cites="solid-client-authn-node">(“Solid Javascript Authentication - Solid-Client-Authn,” n.d.b)</span></td></tr><tr class="odd"><td style="text-align: left;">RDF</td><td style="text-align: left;">solid-common-vocab-js <span class="citation" data-cites="solid-common-vocab-js">(“The Solid Common Vocab Library for Javascript,” n.d.)</span>, rdflib.js <span class="citation" data-cites="rdflib.js">(“Rdflib.js,” n.d.)</span></td></tr></tbody></table><p>The microservice module would handle all requests aimed at the data pod and make it compliant with the Solid server. It would provide the client with the proper <span data-acronym-label="solidoidc" data-acronym-form="singular+short">solidoidc</span> flow to attach the access token to all authenticated requests.</p><figure><img src="prototype/graphs/poc-infrastructure-microservice.jpeg" id="fig:poc-infrastructure-microservice" style="width:80.0%" alt="" /><figcaption>Communication flow for a module developed as a microservice.<span label="fig:poc-infrastructure-microservice"></span></figcaption></figure><h5 id="server-approach">Server Approach</h5><p><br />
The goal of the server approach would be just like with the microservice system to decouple the logic needed to work with Solid from the client and have it run on a server instance. The attractiveness for the server approach would be it could be fully integrated within Indico and be part of its Python codebase. Significant drawbacks are no Solid libraries written in Python exist to allow a seamless integration into the ecosystem.</p><table><caption>Existing solutions to problems for a server approach.<span label="table:3"></span></caption><thead><tr class="header"><th style="text-align: left;">Problem</th><th style="text-align: left;">Solution</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">Language</td><td style="text-align: left;">Python</td></tr><tr class="even"><td style="text-align: left;">Framework</td><td style="text-align: left;">Flask</td></tr><tr class="odd"><td style="text-align: left;">Client</td><td style="text-align: left;">-</td></tr><tr class="even"><td style="text-align: left;">Authentication</td><td style="text-align: left;">pyoidc <span class="citation" data-cites="pyoidc">(“A Python Openid Connect Implementation,” n.d.)</span> missing DPoP</td></tr><tr class="odd"><td style="text-align: left;">RDF</td><td style="text-align: left;">solid-common-vocab-js <span class="citation" data-cites="solid-common-vocab-js">(“The Solid Common Vocab Library for Javascript,” n.d.)</span>, rdflib.js <span class="citation" data-cites="rdflib.js">(“Rdflib.js,” n.d.)</span></td></tr></tbody></table><p>The authentication library pyoidc allows authenticating with <span data-acronym-label="oidc" data-acronym-form="singular+short">oidc</span> systems but is missing a mandatory feature called <span data-acronym-label="dpop" data-acronym-form="singular+short">dpop</span>, which is needed to request protected resources on a data pod. <span data-acronym-label="dpop" data-acronym-form="singular+short">dpop</span> is a technique to disallow replay attacks by attaching a <span data-acronym-label="dpop" data-acronym-form="singular+short">dpop</span> token to the request indicating what data pod the token can use. In a replay attack, an adversary intercepts the authentication token of an agent and uses the token to make authenticated requests to protected resources. With the usage of <span data-acronym-label="dpop" data-acronym-form="singular+short">dpop</span> tokens, the authentication token is signed with a target address. The target address defines the only valid address for which the token can be used. Meaning, when a request is made to a malicious pod, the interceptable token in the <span data-acronym-label="http" data-acronym-form="singular+short">http</span> header, can only be used to make requests to this data pod and not to any other pods. The <span data-acronym-label="dpop" data-acronym-form="singular+short">dpop</span> token therefore needs to be newly generated on everything request <span class="citation" data-cites="dpop-spec">(Fett et al. 2021)</span>.</p><figure><img src="prototype/graphs/poc-infrastructure-backend.jpeg" id="fig:poc-infrastructure-backend" style="width:80.0%" alt="" /><figcaption>Communication flow for a module developed on the server.<span label="fig:poc-infrastructure-backend"></span></figcaption></figure><h5 id="comparison-of-the-different-approaches">Comparison of the Different Approaches</h5><p><br />
Benefits from developing the module for the client:</p><ul><li><p>Necessary libraries exist (Major release for all basic Solid flows exist)</p></li><li><p>Community support</p></li><li><p>Programming effort for an <span data-acronym-label="mvp" data-acronym-form="singular+short">mvp</span> lowest</p></li><li><p>Documentation on developing Solid apps in <span data-acronym-label="js" data-acronym-form="singular+short">js</span> exist</p></li></ul><table><caption>Existing solutions to problems for a server approach.<span label="table:4"></span></caption><thead><tr class="header"><th style="text-align: left;">Library</th><th style="text-align: left;">Description</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">solid-client</td><td style="text-align: left;">A client library for accessing data stored in Solid Pods.</td></tr><tr class="even"><td style="text-align: left;">solid-client-authn</td><td style="text-align: left;">A set of libraries for authenticating to Solid identity servers:solid-client-authn-browser for use in a browser.solid-client-authn-node for use in Node.js.</td></tr><tr class="odd"><td style="text-align: left;">vocab-common-rdf</td><td style="text-align: left;">A library providing convenience objects for many RDF-related identifiers, such as the Person and familyName identifiers from the Schema.org vocabulary from Google, Microsoft and Yahoo!</td></tr><tr class="even"><td style="text-align: left;">vocab-solid-common</td><td style="text-align: left;">A library providing convenience objects for many Solid-related identifiers.</td></tr><tr class="odd"><td style="text-align: left;">vocab-inrupt-common</td><td style="text-align: left;">A library providing convenience objects for Inrupt-related identifiers.</td></tr></tbody></table><h5 id="single-versus-multiple-resources-for-comments">Single Versus Multiple Resource(s) for Comments</h5><p><br />
Storing the comments in <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span> can be done in two ways: holding it in one file as a graph with a list of comments or creating a file for every comment.</p><figure><img src="prototype/graphs/poc-comment-single-resource-comments.png" id="fig:ppc-comment-single-resource-comments" style="width:70.0%" alt="" /><figcaption>Comments being written in a single file resource on the data pod.<span label="fig:ppc-comment-single-resource-comments"></span></figcaption></figure><figure><img src="prototype/graphs/poc-comment-multiple-resources-comments.png" id="fig:poc-comment-multiple-resources-comments" style="width:70.0%" alt="" /><figcaption>Comments being written in multiple file resources on the data pod.<span label="fig:poc-comment-multiple-resources-comments"></span></figcaption></figure><p>When fetching the container with all the comment resources, the request returns a Turtle file describing the container but not the actual content of the contained resources. The misconception of receiving the content was thought to be a problem, as it was assumed an initial request to the container reading its child resources had to be made, and then for each resource, a request needed to be built to retrieve the resource. This overhead was later disproved as the application, where this module is embedded, maintains the list of resources to be fetched. Therefore, no manual building of requests to those resources had to be done. The following paragraph also lays out how this design would not work with the protection of the resources.</p><h5 id="protection-on-resource">Protection on Resource</h5><p><br />
Every container and resource in Solid is protected with <span data-acronym-label="wac" data-acronym-form="singular+short">wac</span>, determining if specific agents, groups, or the world can have read, write, append, or control access. These control access modes are defined in <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> files. The Solid <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> inheritance algorithm looks for an <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> file attached to a specific resource, if it cannot find one, it goes recursively up the file hierarchy and looks for <span data-acronym-label="acl" data-acronym-form="plural+short">acls</span> on the containers. Indico allows two general types of protection, <em>private</em> and <em>public</em>, on its events. Public means open to everyone; no Indico account or authorization is needed to see the event. At the same time, private can be as fine-grained as only to specific agents or groups. A comment module is only valuable if anyone can read and be written by authorized users.</p><p>For visitors of a private or public event in Indico to see the comment, the comment’s <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> needs to allow the public to read the resource. Public read can be achieved by using the <em>public</em> container, which comes with public-read by default on the <span data-acronym-label="nss" data-acronym-form="singular+short">nss</span>, or by creating a new container and setting the <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> with:</p><pre id="lst:container-acl" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Setting default read for resources in container" label="lst:container-acl"><code>@prefix acl: &lt;http://www.w3.org/ns/auth/acl#&gt;.
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;.

# ... Definition for owner

&lt;#example-container-name&gt;
    a acl:Authorization;
    acl:agentClass foaf:Agent;
    acl:accessTo &lt;./&gt;;
    acl:mode acl:Read.</code></pre><p>Every resource in this container is by definition readable by the public – if not otherwise stated in a more detailed resource <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span>. The above description even allows reading the container’s content, meaning a request to the container would yield a list of resources in the container. A publicly readable list becomes unpleasant if the Indico event is private and the comments for this Indico event should not be read by the world, which is entirely possible when browsing to the location of a specific data pod and then looking into the public container.</p><p>An <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> defining private access to a container can prevent the problem of a random agent seeing a container’s content, with the container’s resources still public. The private access mode would allow everyone, provided they have the <span data-acronym-label="url" data-acronym-form="singular+short">url</span>, to read a resource in a private container but not look into the resource’s parent container. To achieve this behavior with <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span>, the container needs to define its owner and no specific rules for the public, as <span data-acronym-label="wac" data-acronym-form="singular+short">wac</span> comes with a default private access control. Each child resource needs to define an <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> now, allowing public read. The container’s <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> would look like the following with just an owner specified:</p><pre id="lst:container-acl-owner" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Container \gls{acl} with owner defined." label="lst:container-acl-owner"><code>@prefix acl: &lt;http://www.w3.org/ns/auth/acl#&gt;.

&lt;#owner&gt;
    a acl:Authorization;
    acl:agent &lt;https://janschill.net/profile/card#me&gt;;
    acl:accessTo &lt;./&gt;;
    acl:default &lt;./&gt;;
    acl:mode acl:Read, acl:Write, acl:Control.</code></pre><p>A child resource would allow public read with:</p><pre id="lst:container-acl-read" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Giving read mode to child resources" label="lst:container-acl-read"><code>@prefix : &lt;#&gt;.
@prefix acl: &lt;http://www.w3.org/ns/auth/acl#&gt;.
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;.

# ... Definition for owner

:Read
    a acl:Authorization;
    acl:accessTo &lt;test.txt&gt;;
    acl:agentClass foaf:Agent;
    acl:mode n0:Read.</code></pre><p>Another approach and implemented after iterating through the previous ones is to have the container’s <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> resource define a default access mode for its child resources. This way, one <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> only needs to be created on the container, and all resources have proper access modes for public read and are not listed publicly in the container’s description.</p><pre id="lst:container-acl-read-default" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Giving default read mode to all child resources of container." label="lst:container-acl-read-default"><code>@prefix acl: &lt;http://www.w3.org/ns/auth/acl#&gt;.
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt;.
@prefix target: &lt;./&gt;.

:ReadDefault
    a acl:Authorization;
    acl:default target:;
    acl:agentClass foaf:Agent;
    acl:mode acl:Read.</code></pre><h5 id="preventing-unwanted-discovery-for-resources">Preventing Unwanted Discovery for Resources</h5><p><br />
With the resources having proper access modes but being publicly readable, a simple naming convention of taking the <span data-acronym-label="iso" data-acronym-form="singular+short">iso</span> 8601 string and using it as a filename for the resources created on the data pod does not suffice – even though it is a good strategy when looking for a reliable naming convention to prevent duplication. Considering performance improvements such as pagination for future iterations of the module, which would require some iterative indication, a combination of randomness, and an order indicator, it was settled for using <span data-acronym-label="uuid" data-acronym-form="singular+short">uuid</span> plus the <span data-acronym-label="iso" data-acronym-form="singular+short">iso</span> 8601 string to form a filename.</p><p>Other ideas included hashing a random string with the timestamp to generate non-guessable filenames. The filename would need to use the same hash function to decipher the filename to figure out when the comment was generated. <span data-acronym-label="uuid" data-acronym-form="singular+short">uuid</span> is a reliable and easy-to-use system to generate <em>truly</em> globally unique strings.</p><h5 id="modification-of-resource-from-data-pod">Modification of Resource From Data Pod</h5><p><br />
When the users control their data, they can revoke access or even change their data to their liking. The ability to modify data from within the data pod means the application cannot be guaranteed the same comment that was initially created and needs to be aware that data can be changed at any time. Even if the system’s interface does not allow modification, a modification can still happen at the source of the storage of the comment.</p><p>Regular comment modules usually allow updates of a submitted text throughout its existence. Twitter is an example where an update is not allowed after posting <span class="citation" data-cites="twitter-edit">(“New User Faq: Tweeting,” n.d.)</span>.</p><p>When the development discovered this aspect, the relevant stakeholders and developer decided to allow this behavior, as it seems natural to edit one’s comments.</p><h5 id="mitigation-of-spam">Mitigation of Spam</h5><p><br />
Enabling user input in the form of a comment module without application authentication is a spam gateway. Even though authentication with a Solid <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span> is necessary, it does not hinder a malicious actor from creating many Solid accounts and spam into the application. In the first iteration of the module, only Solid authentication was integrated into the module. Therefore, it would allow anyone with a Solid account to post comments and spam the Indico event theoretically. Another authentication layer was added in a second iteration of the module to mitigate spam from outside Indico. For <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s use case, an authenticated Indico session was enough. An Indico session adds an extra step to the comment process, ensuring only registered Indico users can comment.</p><h5 id="giving-application-full-control-of-data-pod">Giving Application Full Control of Data Pod</h5><p><br />
An agent or application requires <em>control</em> access to the container to create or change <span data-acronym-label="acl" data-acronym-form="plural+short">acls</span> programmatically in this container. By default, <span data-acronym-label="nss" data-acronym-form="singular+short">nss</span> asks for the permissions when authenticating for the first time in the <span data-acronym-label="solidoidc" data-acronym-form="singular+short">solidoidc</span> flow between the <em>solid-comment</em> module and Solid <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span>. The permissions granted to the application are on the root container of the data pod. Giving an application control access allows the application to read, write, change <span data-acronym-label="acl" data-acronym-form="plural+short">acls</span> on the entire data pod. As a simple application, this is troubling as a commenting module needs to have control access to set the necessary <span data-acronym-label="acl" data-acronym-form="plural+short">acls</span> for the containers and resources it creates.</p><p>The current implementation has not a built-in solution. Still, one way of solving it is using an application launcher, an application itself with complete control access, and then limiting the access controls of the solid-comment module by creating a dedicated container for it and setting the needed <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> for it this specific container only.</p><h4 id="integration-with-indico">Integration with Indico</h4><p><br />
The need for integration with Indico is twofold: serving the module to the client and being the provider to the list of references to the comments posted on a specific event.</p><h5 id="storing-reference-to-comments-in-indico">Storing Reference to Comments in Indico</h5><p><br />
Indico operates using the relational database PostgreSQL <span class="citation" data-cites="postgresql">(“PostgreSQL: The World’s Most Advanced Open Source Relational Database,” n.d.)</span>. When a comment gets posted and stored on an external data pod, a reference to the location of the comment needs to be kept for Indico to pull the comment and render it in its frontend. Several possibilities are imaginable.</p><ol><li><p>Create a new EventComments table</p></li><li><p>Store in an Indico data pod</p></li><li><p>Use the existing EventSettings table</p></li></ol><p>One solution would be to create a new database table that associates with the event using a foreign key and the event id and then stores every comment in its row with all necessary meta information. The database schema would have to be updated to register the new table properly and then executed. A quicker alternative to this is the usage of an existing database table called <code>EventSettings</code>. <code>EventSettings</code> is for additional information for an event and is meant to be a lightweight key-value store for these extra data (often used with Indico plugins).</p><p>Another option would be to leave the database alone and embrace the Solid way of storing the comment references by deploying an Indico Solid data pod. The data pod could hold a resource for every event and link to the data pods where the comments reside. This solution is the most aligned with the Solid principles and could have been an interesting challenge to develop, but it was identified too late to push through.</p><h5 id="enforce-authenticated-session-for-posting-comments">Enforce Authenticated Session For Posting Comments</h5><p><br />
It was established through the iterations of the design with the stakeholders that an authenticated Indico session is deemed necessary in addition to the already authenticated Solid <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span> session with the data pod. The primary motivation was to keep it as laborious as possible for spam to reach the system.</p><p>The awkwardness of validating a current Indico session and then sending requests to a protected endpoint comes with the great decoupling of the comment module and Indico, which is admirable and makes this feature more challenging to implement. Indico uses a framework called Axios <span class="citation" data-cites="axios">(“Promise Based Http Client for the Browser and Node.js,” n.d.)</span> for its <span data-acronym-label="http" data-acronym-form="singular+short">http</span> client request handling. In Indico Axios, is configured with all necessary <span data-acronym-label="http" data-acronym-form="singular+short">http</span> headers and, when a session exists, also equipped with the auth-token. The comment module can be extended to allow a custom <span data-acronym-label="http" data-acronym-form="singular+short">http</span> client to send requests to Indico. When the module is initialized, the Axios client is already readily configured and needs to be passed over to the module. Both systems are still decoupled, and the comment module works with or without a custom <span data-acronym-label="http" data-acronym-form="singular+short">http</span> client.</p><h4 id="section:poc1-evaluation">Evaluation</h4><p><br />
This section focuses on evaluating the system. The evaluation shall be done by iterating through the stakeholders’ requirements and how the architecture lives up to those expectations. The assessment is done with the help of the <span data-acronym-label="asqa" data-acronym-form="singular+short">asqa</span> framework to ensure continuous quality assessment and prioritizing with a lightweight technique <span class="citation" data-cites="asqa-paper">(Christensen, Hansen, and Lindstrøm 2010)</span>. <span data-acronym-label="asqa" data-acronym-form="singular+short">asqa</span> contains seven process steps, as shown in figure <a href="#fig:asqa-process-steps" data-reference-type="ref" data-reference="fig:asqa-process-steps">3.9</a>.</p><figure><img src="thesis/latex/assets/asqa-process-steps.png" id="fig:asqa-process-steps" style="width:70.0%" alt="" /><figcaption>aSQA Process Steps from <span class="citation" data-cites="asqa-paper">(Christensen, Hansen, and Lindstrøm 2010)</span><span label="fig:asqa-process-steps"></span></figcaption></figure><ol><li><p><strong>Define Metrics</strong> to the components of the system. This can be done with <span data-acronym-label="qas" data-acronym-form="plural+short">qass</span>, which may define the desired quality.</p></li><li><p><strong>Define Levels</strong> to measure the state of the system</p></li><li><p><strong>Define Components</strong> to scope the parts of the system that will be evaluated</p></li><li><p><strong>Evaluate</strong> by taking the scenarios and looking at the architecture of the system. An evaluation matrix is used to define the following levels: (t)arget, (c)urrent, (health), (i)mportance, (f)ocus</p></li><li><p><strong>Analysis</strong> will look at the areas where the value of focus is high</p></li></ol><h5 id="metrics">Metrics</h5><p><br />
The defined <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> are helpful to know but cannot be tested, or often qualities of a system are hard to categorize with an adequate <span data-acronym-label="qa" data-acronym-form="singular+short">qa</span>. A solution to the problem of untestability and overlapping concerns is <span data-acronym-label="qas" data-acronym-form="plural+short">qass</span>. <span data-acronym-label="qas" data-acronym-form="plural+short">qass</span> can be used to characterize <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> <span class="citation" data-cites="BassSoftwareArchitecture2003">(Bass, Clements, and Kazman 2012)</span>. Based on the scenarios, the evaluation will be carried out. The scenarios will always have the <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> in mind and are defined with the focus on those. The different scenarios are predicted to be the most common actions on the system and will stress the design and its architecture the most based on the <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span>.</p><p>The previously picked <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> are as follows:</p><ol><li><p>Security</p></li><li><p>Performance</p></li><li><p>Usability</p></li></ol><p>Possible scenarios are centered around data not being available or altered or scenarios of malicious behavior from an adversary by injecting code to misuse the system in unintended ways:</p><ol><li><p>As a user, I expect after commenting to see my comment in Indico, but also in my data pod</p></li><li><p>As a user, I expect after deleting my comment in my data pod that the comment is not shown in Indico</p></li><li><p>As a user, I expect after I edit my comment in my data pod that the comment will be updated in Indico</p></li><li><p>As a user, I expect to be able to revoke access to my data pod for the application</p></li><li><p>As a user, I expect to see others’ comments</p></li><li><p>As a user, I expect only to give access to the necessary data</p></li></ol><h5 id="poc1-levels">Levels</h5><p><br />
The levels are used to measure the state of the architecture of the system. These can be freely chosen but follow an ordinal scale ranging from 1 to 5 in the original paper and adapted <span class="citation" data-cites="asqa-paper">(Christensen, Hansen, and Lindstrøm 2010)</span>. The levels will help rate the quality of the system’s architecture, where one is the lowest quality and five the highest rating.</p><h5 id="components">Components</h5><p><br />
To evaluate the security of the system’s chosen architecture, it makes sense to look at specific components of the system. It would be sensible to analyze the <code>auth</code> package and the modules that interface the user input and the design for this commenting system. The user input modules can be found in the <code>component</code> package.</p><figure><img src="prototype/graphs/poc-comment-package-auth.png" id="fig:poc-comment-package-auth" style="width:70.0%" alt="" /><figcaption>The <code>auth</code> package with its classes.<span label="fig:poc-comment-package-auth"></span></figcaption></figure><p>The <code>auth</code> package holds classes handling the <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> logic necessary. The logic ranges from checking for existing specific authorization modes or creating new <span data-acronym-label="acl" data-acronym-form="singular+short">acl</span> files for resources and updating existing resources. A careless architecture could either give too much access control or allow privilege escalation, where a flaw in the software can be used to elevate the access modes for an adversary.</p><p>The <code>auth</code> package further holds the <code>SolidClient</code> class. The <code>SolidClass</code> is a wrapper class for the external authentication functions, which bring the authentication and session management for the Solid ecosystem. Naturally, all authentication modules need to be inspected and made sure no vulnerabilities are let in.</p><figure><img src="prototype/graphs/poc-comment-package-components.png" id="fig:poc-comment-package-components" style="width:70.0%" alt="" /><figcaption>The <code>components</code> package with its classes.<span label="fig:poc-comment-package-components"></span></figcaption></figure><p>The second package, <code>components</code>, holds all elements in the <span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> that have to interact with the state management module. These classes range from the input field for the WebID <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> to retrieve the address of the user’s <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span> to the rendered comments.</p><h5 id="evaluate">Evaluate</h5><p><br />
</p><ul><li><p><strong>Target</strong>: What is the desired quality level?</p></li><li><p><strong>Current</strong>: What is the current level?</p></li><li><p><strong>Health</strong>: Where are the most considerable quality problems?</p></li><li><p><strong>Importance</strong>: How important is it to move from current to target level?</p></li><li><p><strong>Focus</strong>: What are the most significant and most essential quality problems?</p></li><li><p><strong>Valid level values</strong>: 1, 2, 3, 4, 5 (higher equals better)</p></li></ul><p><strong>Health</strong> and <strong>focus</strong> are not set by the evaluator but instead calculated from other levels.</p><p><br /><span class="math display">$$\begin{aligned}
    \text{\textit{health}}&amp;=5 - \text{\textit{max}}(0, (\text{\textit{target}} - \text{\textit{current}}))\end{aligned}$$</span><br /> <br /><span class="math display">$$\begin{aligned}
    \text{\textit{focus}}&amp;= \text{\textit{ceil}}((6 - \text{\textit{health}}) * \text{\textit{importance}}/5)\end{aligned}$$</span><br /></p><ol><li><p>A user logs in with their WebID and posts a comment</p></li><li><p>An adversary posts a comment with a string containing a <span data-acronym-label="xss" data-acronym-form="singular+short">xss</span> attack</p></li><li><p>High load of traffic is occurring with comments being posted within seconds</p></li><li><p>An adversary deploys software on their pod to serve varying resources based on the geolocation of the connecting <span data-acronym-label="ip" data-acronym-form="singular+short">ip</span> address</p></li></ol><table><caption>Evaluation of the two packages based on the <span data-acronym-label="qas" data-acronym-form="plural+short">qass</span><span label="table:poc1-evaluation"></span></caption><thead><tr class="header"><th style="text-align: left;"><code>auth</code></th><th style="text-align: center;">T</th><th style="text-align: center;">C</th><th style="text-align: center;">H</th><th style="text-align: center;">I</th><th style="text-align: center;">F</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">Security</td><td style="text-align: center;">5</td><td style="text-align: center;">2</td><td style="text-align: center;">2</td><td style="text-align: center;">5</td><td style="text-align: center;">4</td></tr><tr class="even"><td style="text-align: left;">Performance</td><td style="text-align: center;">5</td><td style="text-align: center;">1</td><td style="text-align: center;">1</td><td style="text-align: center;">5</td><td style="text-align: center;">5</td></tr><tr class="odd"><td style="text-align: left;">Availability</td><td style="text-align: center;">4</td><td style="text-align: center;">3</td><td style="text-align: center;">4</td><td style="text-align: center;">2</td><td style="text-align: center;">1</td></tr><tr class="even"><td style="text-align: left;">Usability</td><td style="text-align: center;">5</td><td style="text-align: center;">2</td><td style="text-align: center;">2</td><td style="text-align: center;">4</td><td style="text-align: center;">4</td></tr></tbody></table><table><caption>Evaluation of the two packages based on the <span data-acronym-label="qas" data-acronym-form="plural+short">qass</span><span label="table:poc1-evaluation"></span></caption><thead><tr class="header"><th style="text-align: left;"><code>components</code></th><th style="text-align: center;">T</th><th style="text-align: center;">C</th><th style="text-align: center;">H</th><th style="text-align: center;">I</th><th style="text-align: center;">F</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">Security</td><td style="text-align: center;">5</td><td style="text-align: center;">3</td><td style="text-align: center;">3</td><td style="text-align: center;">5</td><td style="text-align: center;">3</td></tr><tr class="even"><td style="text-align: left;">Performance</td><td style="text-align: center;">5</td><td style="text-align: center;">1</td><td style="text-align: center;">1</td><td style="text-align: center;">5</td><td style="text-align: center;">5</td></tr><tr class="odd"><td style="text-align: left;">Availability</td><td style="text-align: center;">4</td><td style="text-align: center;">3</td><td style="text-align: center;">4</td><td style="text-align: center;">2</td><td style="text-align: center;">1</td></tr><tr class="even"><td style="text-align: left;">Usability</td><td style="text-align: center;">5</td><td style="text-align: center;">3</td><td style="text-align: center;">3</td><td style="text-align: center;">3</td><td style="text-align: center;">2</td></tr></tbody></table><h4 id="analysis">Analysis</h4><p><br />
The following analysis section will explain how the values of the two tables from <a href="#table:poc1-evaluation" data-reference-type="ref" data-reference="table:poc1-evaluation">[table:poc1-evaluation]</a> came together and will give some more insights into how the modules are working and behaving in certain situations. After the explanation and analysis of this particular evaluation a broader analysis of the <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> will be given, where critical areas in the architecture will be highlighted and some possibilities for future iterations of it.</p><h5 id="auth-and-components-packages"><code>auth</code> and <code>components</code> packages</h5><p><br />
The <code>SolidClient</code> class is part of the <code>auth</code> component package, which handles the session management. When the comment module is loaded upon page load it is <em>booted</em> with the flow shown in <a href="#fig:poc-comment-flow-app_boot" data-reference-type="ref" data-reference="fig:poc-comment-flow-app_boot">[fig:poc-comment-flow-app_boot]</a>. It can be observed that every time the module is loaded it has to do four round trips to the <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span> and data pod. Once the application is booted, the list of comment <span data-acronym-label="uri" data-acronym-form="plural+short">uris</span> are passed to the application and it fetches all comments from their remote data pods. This behavior is linked to the <code>components</code> module, as it is responsible for rendering all these comments in the <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span>. Further performance analyses in regards to the fetching of the comments is being done below in the paragraph <a href="#paragraph:evaluation-performance" data-reference-type="ref" data-reference="paragraph:evaluation-performance">3.1.1.6.2</a>. But when the comments are being fetched a second request happens that loads the WebID profile of the author of the comment. Resulting in <span class="math inline"><em>n</em> * 2</span> requests, where <span class="math inline"><em>n</em></span> is the number of comments. The exact flow of getting the comments is shown in figure <a href="#fig:poc-comment-flow-set_comments" data-reference-type="ref" data-reference="fig:poc-comment-flow-set_comments">[fig:poc-comment-flow-set_comments]</a>.</p><figure><img src="prototype/graphs/poc-comment-flow-app_boot.png" style="width:70.0%" alt="" /><figcaption>Application boot flow. External <span data-acronym-label="http" data-acronym-form="singular+short">http</span> requests are indicated by a filled grey box.</figcaption></figure><p><span id="fig:poc-comment-flow-app_boot" label="fig:poc-comment-flow-app_boot">[fig:poc-comment-flow-app_boot]</span></p><figure><img src="prototype/graphs/poc-comment-flow-set_comments.png" style="width:70.0%" alt="" /><figcaption>Requesting comments from data pod. External <span data-acronym-label="http" data-acronym-form="singular+short">http</span> requests are indicated by a filled grey box.</figcaption></figure><p><span id="fig:poc-comment-flow-set_comments" label="fig:poc-comment-flow-set_comments">[fig:poc-comment-flow-set_comments]</span></p><p>The application boot with successive comment fetching happens every time the system is loaded, which is in minimum four requests, when no comments are loaded and <span class="math inline"><em>n</em> * 2 + 4</span> requests with <span class="math inline"><em>n</em></span> comments.</p><p>In regards to <em>availability</em> for both looked at modules if a data pod is unavailable the <code>auth</code> module will simply not be able to do its checks on whether a session is present. The <span data-acronym-label="http" data-acronym-form="singular+short">http</span> requests checking the session will respond with <span class="math inline">40<em>x</em></span> <span data-acronym-label="http" data-acronym-form="singular+short">http</span> status codes and simply disallow any comment posting. For the <code>components</code> module a dedicated message has been implemented which will render a hint on why a comment may not have loaded when a data pod is unreachable. The hint renders one long message guessing what has happened, but is not clever about inferring the reason.</p><figure><img src="prototype/poc-comment-unavailable_comment.png" style="width:70.0%" alt="" /><figcaption>Hint when a comment could not be loaded</figcaption></figure><p><span id="fig:poc-comment-unavailable_comment" label="fig:poc-comment-unavailable_comment">[fig:poc-comment-unavailable_comment]</span></p><p>Another striking value is the high focus for the usability in the <code>auth</code> component. This can be explained with the fact that it is not made clear to the user that <em>control</em> access to the root container of the data pod is needed in order for the application to function properly. Only when an authenticated session from the Solid <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span> is present and the <em>control</em> access is lacking it will show in the interface. Firstly, this results in a bad user experience, but more over the fact that the user needs to gives full control over the data pod to the application is unfortunate. The end-user who is not a Solid professional will have a hard time understanding the reason and may step back from application that need this much control. The evaluation for the <em>security</em> resulted therefore also with a worse level than it could have scored. The security within the module is relatively stable with sanitization of inputs not allowing any malicious code to be executed when fetching resource from data pods.</p><h5 id="paragraph:evaluation-performance">Performance</h5><p><br />
The chosen technique of storing the comments is not as efficient as it could be. Every comment is stored as a self-contained Turtle file on the author’s comment with Indico holding the <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> to be able to fetch it on demand. As soon as the client is loading the module with the comments the client will have to make <span class="math inline"><em>n</em></span> requests, <span class="math inline"><em>n</em></span> being the number of comments.</p><p>The first improvement to this approach could be pagination. Pagination limits the number of initially loaded comments to a defined amount. This can be achieved by utilizing the date and time from the file name of the comment. Only the most recent <span class="math inline"><em>n</em></span> comments by time will have to be fetched. When the user clicks on a load more comments button, <span class="math inline"><em>n</em></span> more comments will be loaded. In the same area of improvement, the ways the comments are rendered can also be improved. The comments as of now will all be fetched and only when all requests are done it will be rendered in the <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span>. If the comments are <em>separated</em> from each other and a comment is rendered as soon as it successfully fetched, it would speed up the time until a user could start seeing comments.</p><p>The second improvement could be a grouping of comments by the author. This way the number of requests would now be bound to the number of authors. In the worst case, where all comments are from different authors, it would not bring any improvement over the initial architecture. The design for this would be to change the storage from the multi-file approach to a single-file approach. On the data pod, one file would exist holding all comments from one author for one event. This file can be fetched with one request containing multiple comments.</p><p>Another enhancement can be attained by caching. In its current design, the comments are freshly fetched on each page load. Server-side <span data-acronym-label="http" data-acronym-form="singular+short">http</span> caching is out of control for the clients, and completely relies on the Server implementations to do so. By Solid specification, <span data-acronym-label="http" data-acronym-form="singular+short">http</span> caching is prescribed, but not vital <span class="citation" data-cites="solid-protocol">(Capadisli et al. 2020)</span>, which means it <em>should</em> implement it, but does not have to. Regardless, the improvement would not be in the number of round trips the client has to complete, but rather in the time for the server to calculate the response it sends out <span class="citation" data-cites="http-caching">(Fielding, Nottingham, and Reschke 2014)</span>. A real improvement on consecutive page visits are won by client-side <span data-acronym-label="http" data-acronym-form="singular+short">http</span> caching. Upon successive visits to a cached website, a previously fetched and in the browser’s local storage stored copy of the response would be served <span class="citation" data-cites="http-caching">(Fielding, Nottingham, and Reschke 2014)</span>. The result would be immediately loaded, but might not serve the latest and up-to-date asset from the server. The <em>freshness</em> of the response is controlled using the <code>Cache-Control</code> header in either the request or response of the <span data-acronym-label="http" data-acronym-form="singular+short">http</span> exchange between client and server <span class="citation" data-cites="http-caching">(Fielding, Nottingham, and Reschke 2014)</span>.</p><p>More performance solutions shall be looked at with the other upcoming areas in this analysis section.</p><h5 id="security-modification-of-resources">Security: Modification of Resources</h5><p><br />
In the case of comments being the resources that are being shared between data pod and application, it has been established a modification from outside the application is acceptable behavior. For a resource where a modification should be monitored or even forbidden. A few paths are conceivable.</p><p>Storing the comments on the author’s data pod could be given up and instead be done by a trusted entity, e.g. the application embedding the comment module. It would result in <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> hosting one data pod for their Indico instance. Each event would create a container in this data pod with <em>append</em> access mode for the public. <em>append</em> allows an agent to add new resources to a container, but not modify or delete any <span class="citation" data-cites="solid-protocol">(Capadisli et al. 2020)</span>. Through this access mode a user can post comments freely, but cannot modify them at a later stage, as the data is now in Indico’s data pod and the user is lacking the access control to edit existing resources. Having one data pod responsible for all comments also improves the performance by reducing the number of <span data-acronym-label="http" data-acronym-form="singular+short">http</span> requests needed. Whereas before the requests were either bound to the number of authors or even by the number of comments, it is now only a single request to the event’s container on the Indico data pod, to fetch a single file with all comments written in. A drawback to this approach is the comments are again stored centralized in one storage, though because it is using a Solid server instead of a web server with unstructured data storage, the data is now structured and thus interoperable through <em>Linked Data</em>. Besides storing it in Indico’s data pod, a copy of the comment could be stored in the author’s data pod. The author acquires a version of the comment and Indico holds the <span data-acronym-label="ssot" data-acronym-form="singular+short">ssot</span>.</p><p>One more option to control the modification on resources while not giving up on decentralized storage in the author’s pods is to use versioning on the comments. Indico would when a user creates and submits a comment store a hashed value of the comment’s content. When then serving the comments from the external data pods to visiting clients the received comments would be hashed and compared to the Indico stored hash value. It is important to associate the comment’s <span data-acronym-label="url" data-acronym-form="singular+short">url</span> with the hash to be able to make a proper comparison on the correct resources.</p><p>An important aspect of allowing the update of existing resources is to have an indication in the <span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> notifying readers about a changed text. A simple <em>edited</em>-hint would suffice. When a user is browsing the comments and follows a conversation, which is met with an abrupt disruption of flow in the conversation, an updated comment could be the result and an indication would help to identify such a situation. To detect a change in the comment’s content the same hashing function can be used as described before.</p><h5 id="eventsettingsproxy-scalability-issues">EventSettingsProxy Scalability Issues</h5><p><br />
The implementation with EventSettingsProxy is not scalable and a production-ready technique. Even though transactions are being used in the database and a dedicated table is being used to persist all related settings for the events, it can still happen that race conditions occur. As for example two requests read the event settings table and retrieve an entry with <span class="math inline">[1, 2]</span> for the column holding the list of comment <span data-acronym-label="url" data-acronym-form="plural+short">urls</span>. When request A now writes <span class="math inline">3</span> and request B write <span class="math inline">4</span> it generate two <span data-acronym-label="sql" data-acronym-form="singular+short">sql</span> <code>UPDATE</code> statements, one with <span class="math inline">[1, 2, 3]</span> and one with <span class="math inline">[1, 2, 4]</span> where the second overwrites the first and only <span class="math inline">[1, 2, 4]</span> is persisted.</p><p>Justification for implementing it in this way is a faster <em>time-to-market</em> allowing a quicker development and thus testing of the prototype. It was never expected to test the prototype where these race conditions would occur. If a production-ready module should be developed, a separated database table would need to be created and every new comment <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> would be added to the database by using <span data-acronym-label="sql" data-acronym-form="singular+short">sql</span> <code>INSERT</code> statement, which are safe against race conditions. A further benefit would be the ability to store more comment specific meta information such as signatures or hash values to be able to detect changes in pulled in comments.</p><h5 id="indico-solid-proxying">Indico Solid Proxying</h5><p><br />
Indico could develop an <span data-acronym-label="api" data-acronym-form="singular+short">api</span> which sits between Indico and the Solid data pods to then for example make all the requests on behalf of the clients. A proxy as such would hide all the clients’ <span data-acronym-label="ip" data-acronym-form="singular+short">ip</span> addresses and would therefore disallow the logging of client <span data-acronym-label="ip" data-acronym-form="singular+short">ip</span> addresses by a malicious data pod. A performance improvement is also foreseeable as the Indico proxy could make the requests to the different data pods and put them into cache where they would then be served from. By caching the request in this layer, the request do not have to be made by every client every time on page load. Loading resources before they are requested by clients and then serving clients from a cache is called cache warming <span class="citation" data-cites="cache-warming">(“What Is Cache Warming?” n.d.)</span>. Another benefit of doing the requests using an Indico proxy is also that a malicious data pod or just one that wants to do some kind of targeted advertisement, cannot identify the clients by their <span data-acronym-label="ip" data-acronym-form="singular+short">ip</span> addresses and therefore not send different responses upon requests from different <span data-acronym-label="ip" data-acronym-form="singular+short">ip</span> addresses based on geolocation.</p><h3 id="poc-2-auto-complete-form-inputs-for-conference-registration-in-indico">POC 2: Auto-Complete Form Inputs for Conference Registration in Indico</h3><p>The second prototype aims at connecting Solid with the conference registration module in Indico. When registering for a conference an <span data-acronym-label="html" data-acronym-form="singular+short">html</span> form is presented with fields previously defined by the conference manager, who deemed those fields necessary. A form always contains personal information of name and email address, but is not limited to it and can even range to more sensitive information such as copies of personal identification documents. Information of this type has perfect motivation to remain in the hand of the owner and not be stored in a remote data store, uncontrollable and unknown to the registrants.</p><p>Therefore, the initial aim was to extend the registration module to allow storage of sensible information in a data pod, where the user has full control and can handle the data to their own liking. This was decided to not be viable and the prototype changed to allow the extraction of data from a data pod and then use this data to map it to input fields of an Indico conference registration form – the functionality to then also store the data from the registration in the user’s data pod and not in Indico was dropped. The reasons and comprehensive analysis will be shared after the architectural analysis, synthesis, and evaluation of the developed <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> in the <em>design</em> <a href="#poc2:design" data-reference-type="ref" data-reference="poc2:design">3.1.2.3</a> and <em>analysis</em> <a href="#poc2:analysis" data-reference-type="ref" data-reference="poc2:analysis">3.1.2.6</a> sections of this chapter.</p><h4 id="architectural-analysis-and-synthesis-1">Architectural Analysis and Synthesis</h4><p><br />
</p><h5 id="system-description-1">System Description</h5><p><br />
The system pulls in a resource from a data pod in the <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span> format Turtle, maps the received information to input fields in an <span data-acronym-label="html" data-acronym-form="singular+short">html</span> form and fills in missing inputs or asks the user if the values should be replaced.</p><h5 id="features-1">Features</h5><p><br />
The core functionality of the module consists of the following features:</p><ol><li><p>A user can provide a the <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> to a public Turtle file</p></li><li><p>A user can choose to accept or reject values pulled in when values already exist</p></li></ol><p>These features allow the development of a module giving users the ability to pull in their WebID profile document and use the information provided in it to populate a conference registration.</p><h5 id="type-of-users-1">Type of Users</h5><p><br />
There is one type of user for this system, who is the user with a WebID profile and interested in using the existing information to fill in a form.</p><h5 id="context-diagram-1">Context Diagram</h5><p><br />
Other types of involved parties are the ones maintaining or developing the system and application. These are shown in the context diagram <a href="#fig:poc-autocomplete-context_diagram" data-reference-type="ref" data-reference="fig:poc-autocomplete-context_diagram">[fig:poc-autocomplete-context_diagram]</a>.</p><figure><img src="prototype/graphs/poc-autocomplete-context_diagram.png" style="width:80.0%" alt="" /><figcaption>Context diagram showing users and external services of the system.</figcaption></figure><p><span id="fig:poc-autocomplete-context_diagram" label="fig:poc-autocomplete-context_diagram">[fig:poc-autocomplete-context_diagram]</span></p><h5 id="sequence-diagram-1">Sequence Diagram</h5><p><br />
The following succeeding diagram shows the sequential flow through the system upon initialization and button press. The focus was laid in the diagram to show the request/response cycles in the infrastructure.</p><figure><img src="prototype/graphs/poc-conference_registration-autocomplete-sequence_diagram.png" alt="" /><figcaption>Sequence diagram showing the sequential process through pulling in data from a data pod.</figcaption></figure><p><span id="fig:poc-conference_registration-autocomplete-sequence_diagram" label="fig:poc-conference_registration-autocomplete-sequence_diagram">[fig:poc-conference_registration-autocomplete-sequence_diagram]</span></p><h5 id="stakeholders">Stakeholders</h5><p><br />
Both modules were established with the same group of people and therefore carry the same set of stakeholders. The stakeholders defined in the section of the first <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> can be found here <a href="#poc1-stakeholders" data-reference-type="ref" data-reference="poc1-stakeholders">3.1.1.1.6</a>.</p><h5 id="drivers-1">Drivers</h5><p><br />
The drivers for this architecture endure the same as well. A system which operates on a form where sensitive data is exposed needs a high-level of security – under no circumstance should traffic be intercepted and leak any of such information. The performance for this module is also important, as conference tend to open their registration at a certain time, with high traffic spikes at those times of registration opening or announcements. The same reasoning as before applies to the <em>Usability</em> of the module. When a new software design is used, it should be made as simple as possible for the user to interact with it and ideally not even notice a difference to traditional practices.</p><ol><li><p>Security</p></li><li><p>Performance</p></li><li><p>Usability</p></li></ol><h4 id="user-interface-1">User Interface</h4><p><br />
The <span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> for this module is rather limited as it only requires an input field for the user to provide the <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> of where to find an <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span> document that can be used to fill in the registration form, an action button and then a design for when two values on an input are probable.</p><figure><img src="prototype/poc-solid-autocomplete-conference-registration.png" id="fig:poc-solid-autocomplete-conference-registration" style="width:75.0%" alt="" /><figcaption><span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> showing the autocomplete module.<span label="fig:poc-solid-autocomplete-conference-registration"></span></figcaption></figure><figure><img src="prototype/poc-solid-autocomplete-conference-registration-attendees.png" id="fig:poc-solid-autocomplete-conference-registration-attendees" style="width:75.0%" alt="" /><figcaption>The Indico control panel showing registered users.<span label="fig:poc-solid-autocomplete-conference-registration-attendees"></span></figcaption></figure><h4 id="poc2:design">Design</h4><p><br />
The following section will shed light on the design decision made in the process of sketching out the architecture of the module and developing the system. It will introduce the different challenges and how they were overcome. Especially, it will give an explanation of what led to the change of core functionality of the module. In the succeeding section, the choices will be analyzed more explicitly.</p><h5 id="mapping-structured-data-to-html-inputs">Mapping Structured Data To <span data-acronym-label="html" data-acronym-form="singular+short">html</span> Inputs</h5><p><br />
A great benefit of using Linked Data is its semantic structure and the interoperability it brings when using in systems supporting it. This means the data are using public vocabularies to be described and thus can be reasoned about by machines and can be move from one system into another one and seamlessly integrated. Indico does not make use of any common <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span> features and can therefore not extract any of those benefits. Because of this, no simple way of mapping the incoming data from the data pod to the inputs exist, but a few options are feasible.</p><ol><li><p>Enrich the form with some kind of descriptive indicator</p></li><li><p>Parse and process existing values of attributes and labels</p></li></ol><p>In the <span data-acronym-label="html" data-acronym-form="singular+short">html</span> specification an <code>autocomplete</code> attribute exist, which is used by browsers to prefill data from previously used values <span class="citation" data-cites="html-spec">(community 2021b)</span>. The value of the <code>autocomplete</code> key-value pair describes the input and what data is to be expected.</p><pre id="lst:autocomplete-input" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Autocomplete attribute on input field" label="lst:autocomplete-input"><code>&lt;form method=post action=&quot;/&quot;&gt;
  &lt;p&gt;&lt;label&gt;Full name: &lt;input type=text autocomplete=name&gt;&lt;/label&gt;
  &lt;p&gt;&lt;label&gt;Credit card number: &lt;input type=text inputmode=numeric autocomplete=cc-number&gt;&lt;/label&gt;
  &lt;p&gt;&lt;label&gt;Expiry Date: &lt;input type=month autocomplete=cc-exp&gt;&lt;/label&gt;
  &lt;p&gt;&lt;input type=submit value=&quot;Submit&quot;&gt;
&lt;/form&gt;</code></pre><p>In listing <a href="#lst:autocomplete-input" data-reference-type="ref" data-reference="lst:autocomplete-input">[lst:autocomplete-input]</a> the browser would suggest cached values when the user agent clicks into an input. This is the perfect indicator to <em>autofill</em> form inputs. Unfortunately, this attribute is not being utilized in Indico. Another and even better approach would be to annotate the input fields straight up with the vocabulary of Schema.org <span class="citation" data-cites="schema-org">(“Schema.org,” n.d.)</span>. The mapping of the input fields and the fetched Turtle resource could then happen directly using the <em>predicates</em> of both structured formats. To change the AngularJS form and implement new features into Indico were already established not to be viable. Nevertheless, the <code>autocomplete</code> feature shall be kept in mind.</p><p>Without being able to extract from the <code>autocomplete</code> attribute within Indico it shall still be implemented and used, as other systems might use the attribute. Other means of extracting some kind of information from the form are the ID and name attributes or even the <code>TextNode</code> of the input label. The ID and name are often equipped with information about the input they are defined on. These values and additionally the value of the label node can be extracted and mapped against a dictionary of key-value pairs to find out what the input is supposed to be filled in with.</p><figure><img src="prototype/graphs/poc-autocomplete-mapping-flow.png" id="fig:poc-autocomplete-mapping-flow" style="width:50.0%" alt="" /><figcaption>The flow to find a source for dictionary mapping.<span label="fig:poc-autocomplete-mapping-flow"></span></figcaption></figure><p>A possible mapping of address information could look like as in listing <a href="#lst:autocomplete-mapping" data-reference-type="ref" data-reference="lst:autocomplete-mapping">[lst:autocomplete-mapping]</a>. The implementation shows a <span data-acronym-label="js" data-acronym-form="singular+short">js</span> implementation where the key in the <code>address</code> object are the possibly extracted values from the different techniques described above and the value is in this example the vCARD <span class="citation" data-cites="vcard-spec">(Viagenie 2011)</span> equivalent. vCARD is being used by the <span data-acronym-label="nss" data-acronym-form="singular+short">nss</span> to describe the information in the WebID profile document.</p><pre id="lst:autocomplete-mapping" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Dictionary to map extracted values with predicates from Turtle resource" label="lst:autocomplete-mapping"><code>const address = {
  address: &#39;full_address&#39;,
  country: VCARD.country_name.value,
  countryName: VCARD.country_name.value,
  region: VCARD.region.value,
  locality: VCARD.locality.value,
  city: VCARD.locality.value,
  streetAddress: VCARD.street_address.value,
  street: VCARD.street_address.value,
  postalCode: VCARD.postal_code.value
}</code></pre><p>Listing <a href="#lst:webid-address" data-reference-type="ref" data-reference="lst:webid-address">[lst:webid-address]</a> shows part of the WebID profile document where the address of an agent is described.</p><pre id="lst:webid-address" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Extraction from WebID profile document showing address." label="lst:webid-address"><code>@prefix : &lt;#&gt;.
@prefix n: &lt;http://www.w3.org/2006/vcard/ns#&gt;.
# ...
:id1614172452178
  n:country-name &quot;Denmark&quot;;
  n:locality &quot;Copenhagen&quot;;
  n:postal-code &quot;2300&quot;;
  n:region &quot;Zealand&quot;;
  n:street-address &quot;Rued Langgaards Vej 18&quot;. 
# ...
:me n:hasAddress :id1614172452178;
# ...</code></pre><h4 id="integration-with-indico-1">Integration With Indico</h4><p><br />
A few challenges arose when integrating the module with Indico. A critical issue was when it was found out that the form is not rendered on the server and send as <span data-acronym-label="html" data-acronym-form="singular+short">html</span> in the response body as expected. Another challenge was when programmatically filling in the input fields of the inputs the frontend form validation would not detect a change in the input values and thus would think no input value is given.</p><h5 id="poc2-bind">Bind to Dynamically Created Form</h5><p><br />
Indico builds the registration form dynamically using a frontend library called AngularJS <span class="citation" data-cites="angularjs">(“AngularJS,” n.d.)</span>. This introduces a challenge of interacting with the form using <span data-acronym-label="js" data-acronym-form="singular+short">js</span>. Frontend libraries that either create new or modify existing <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span> nodes need to wait until the complete <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span> tree is loaded, as they bind to one <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span> node from the initially served <span data-acronym-label="html" data-acronym-form="singular+short">html</span> document and then do their operations on this node. Meaning, AngularJS waits until the whole <span data-acronym-label="html" data-acronym-form="singular+short">html</span> document is parsed and rendered in the browser and then starts creating its form from scratch, which is then being rendered by the browser. The problem with this is in order to operate on the form, which is necessary for the module to be able to read the form inputs and labels and also to set their values, the <span data-acronym-label="js" data-acronym-form="singular+short">js</span> code from this prototype needs to know when the form was successfully rendered. Three options are possible to achieve this.</p><ol><li><p>Implement the autocomplete functionality in the existing AngularJS form code</p></li><li><p>Dispatch an event to notify the autocomplete module the form has been rendered</p></li><li><p>Use the <code>MutationObserver</code> to detect the form creation</p></li></ol><p>Solutions 1 and 2 both involve the need to work with the AngularJS form, which is written in a legacy version and was recommended by an Indico developer to – if possible – be avoided. Indico developers also plan on removing AngularJS altogether and replace it with a more popular frontend framework. Therefore, option 3 was chosen even though the usage of a <code>MutationObserver</code> instance might add performance degradation to the page load <span class="citation" data-cites="dom-spec">(community 2021a)</span>. The performance shall not be analyzed more carefully as it is not of relevance to prove the realization of the prototype.</p><p>The <code>MutationObserver</code> is initialized as soon as the <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span> is rendered, it then takes a node as a target to observe and will register all modifications on this node: the creation of children nodes in it, updates to the node itself or any other modifications. To reduce computation the Indico code can be analyzed to find a suitable <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span> element to have as a target node. This node needs to exist when the <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span> is loaded and needs to contain the final form node. When looking at the final rendered document containing the AngularJS form one notices that the form has an ID, which can be used to observe its creation.</p><pre id="lst:indico-observe" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Observe function in Indico" label="lst:indico-observe"><code>function observeFormCreation() {
  // ID of the AngularJS form, its creation needs to be observed
  const formId = &#39;registrationForm&#39;;
  // Candidate to limit observing scope
  const $conferencePage = document.querySelector(&#39;.conference-page&#39;);
  const targetNode = $conferencePage;
  // Only observe nodes, not attributes
  const config = {attributes: false, childList: true, subtree: true};

  const callback = (mutationsList, observer) =&gt; {
    // Contains all mutations in the targetNode
    for (const mutation of mutationsList) {
      // Node has beed added or removed
      if (mutation.type === &#39;childList&#39;) {
        // Look at all added nodes
        for (const node of mutation.addedNodes) {
          // Look for the AngularJS form
          if (node.id === formId) {
            // Once found, stop observing
            observer.disconnect();
            // Initialize the autocomplete library
            const solidAutocomplete = new SolidAutocomplete({form: node});
            solidAutocomplete.createAutocompleteDomControls(node);
          }
        }
      }
    }
  };
  // Start observing
  const observer = new MutationObserver(callback);
  observer.observe(targetNode, config)
}</code></pre><h5 id="poc2-detect-input">Detect Input Change for Frontend Validation</h5><p><br />
Indico deploys a frontend validation to make sure it receives proper values for the form’s inputs. A basic validation is the check for a presence of values in required inputs. This way Indico can render a hint on the input fields with invalid values, such as if no input was given in a required email address field. It turns out Indico has <code>dom Event Listeners</code> which detect if an input field is clicked in and if it is receiving inputs through a user typing in it. This validation implementation does not detect when changing the value of the <code>value</code> attribute of an input node, thus complaining when setting the values through <span data-acronym-label="js" data-acronym-form="singular+short">js</span>.</p><pre id="lst:input-change" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Changing the value of an input node." label="lst:input-change"><code>const formInputField = document.querySelector(&#39;.exampleFormInput&#39;)
formInputField.value = &#39;New value&#39;</code></pre><p>The example code in listing <a href="#lst:input-change" data-reference-type="ref" data-reference="lst:input-change">[lst:input-change]</a> would not be detected by Indico and would upon submission render a missing value hint.</p><p>Two ways of fixing the problem are conceivable.</p><ol><li><p>Change Indico frontend validation to detect value change</p></li><li><p>Dispatch event when setting values in the autocomplete module</p></li></ol><p>Changing the Indico frontend validation might turn out to be more time-consuming than anticipated and is therefore not viable, also it is unknown if a change is wanted by the Indico development team in the first place. The idea for a working implementation is to validate on submission of the form instead of validation when a change on the input is detected. As mentioned before the problem with the used <code>oninput</code> event is it does not detect when the value is set programmatically. If the validation is only happening when the values are tried to be sent to the server by submission the input values can be parsed and the correct value is detected – no matter how it was set.</p><p>The other and also picked solution is to trigger the <code>oninput</code> event that is being listened on by the Indico validation. The event dispatch needs to happen as soon the values are set within the module and because this happens in the module and the module is a self-contained module without any knowledge of Indico, the module should not be directly changed, but rather allow a callback function to be passed to it and then execute when appropriate.</p><pre id="lst:oninput-callback" class="Other" data-language="Other" data-columns="fullflexible" data-caption="Dispatching the \texttt{oninput} event within a callback." label="lst:oninput-callback"><code>function triggerInputEvent(inputs) {
  for (let i = 0; i &lt; inputs.length; i++) {
    const element = inputs[i];
    [element, element.parentNode].forEach(node =&gt; {
      if (&#39;createEvent&#39; in document) {
        const evt = document.createEvent(&#39;HTMLEvents&#39;);
        evt.initEvent(&#39;input&#39;, false, true);
        node.dispatchEvent(evt);
      } else {
        node.fireEvent(&#39;oninput&#39;);
      }
    });
  }
}</code></pre><h4 id="evaluation">Evaluation</h4><p><br />
Just like with the first <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> from a section before <a href="#poc1" data-reference-type="ref" data-reference="poc1">3.1.1</a>, this <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> shall be evaluated using the same motivation and framework. The stakeholders and <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> continue to be as is. An TODO:</p><h5 id="metrics-1">Metrics</h5><p><br />
The previously picked <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> are as follows:</p><ol><li><p>Security</p></li><li><p>Performance</p></li><li><p>Usability</p></li></ol><p>The <span data-acronym-label="qas" data-acronym-form="plural+short">qass</span> to make the <span data-acronym-label="qa" data-acronym-form="plural+short">qas</span> measurable allowing the analysis of health in the system’s architecture:</p><ol><li><p>As a user I expect to see the information from my WebID profile document when using the module</p></li><li><p>As a user I expect to have the choice on two available values</p></li><li><p>As a user I expect to be incapable of pulling in protected resources without authenticating myself</p></li></ol><h5 id="levels">Levels</h5><p><br />
The same levels 1 to 5 as in the first evaluation <a href="#section:poc1-evaluation" data-reference-type="ref" data-reference="section:poc1-evaluation">3.1.1.5</a> will be used to rate the architecture of this system.</p><h5 id="components-1">Components</h5><p><br />
This module is compared to the other module relatively small and does not contain multiple packages. It forms through the three key classes <code>Picker</code>, <code>Mapper</code>, and <code>Filler</code>. These three classes as they hint at find all relevant input fields from the application that will be used; secondly maps the input fields with the available data fetched using the <code>DataFetcher</code> class; thirdly it fills the available data through the mapping into the input fields.</p><figure><img src="prototype/graphs/poc-autocomplete-package.png" id="fig:poc-autocomplete-package" style="width:70.0%" alt="" /><figcaption>The classes in the autocomplete module.<span label="fig:poc-autocomplete-package"></span></figcaption></figure><h5 id="evaluate-1">Evaluate</h5><p><br />
</p><ul><li><p><strong>Target</strong>: What is the desired quality level?</p></li><li><p><strong>Current</strong>: What is the current level?</p></li><li><p><strong>Health</strong>: Where are the largest quality problems?</p></li><li><p><strong>Importance</strong>: How important is it to move from current to target level?</p></li><li><p><strong>Focus</strong>: What are the largest and most important quality problems?</p></li><li><p><strong>Valid level values</strong>: 1, 2, 3, 4, 5 (higher equals better)</p></li></ul><p><strong>Health</strong> and <strong>focus</strong> are not set by the evaluator but rather calculated from other levels.</p><p><br /><span class="math display">$$\begin{aligned}
    \text{\textit{health}}&amp;=5 - \text{\textit{max}}(0, (\text{\textit{target}} - \text{\textit{current}}))\end{aligned}$$</span><br /> <br /><span class="math display">$$\begin{aligned}
    \text{\textit{focus}}&amp;= \text{\textit{ceil}}((6 - \text{\textit{health}}) * \text{\textit{importance}}/5)\end{aligned}$$</span><br /></p><ol><li><p>A user enters their WebID <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> and presses <em>autocomplete</em></p></li><li><p>A user enters someone else’s WebID <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> and presses <em>autocomplete</em></p></li><li><p>A user enters a <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> with a protected resource and presses <em>autocomplete</em></p></li><li><p>An adversary enters a <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> to a malicious document</p></li></ol><table><caption>Evaluation of the autocomplete module based on the <span data-acronym-label="qas" data-acronym-form="plural+short">qass</span><span label="table:poc2-evaluation"></span></caption><thead><tr class="header"><th style="text-align: left;"><code>autocomplete</code></th><th style="text-align: center;">T</th><th style="text-align: center;">C</th><th style="text-align: center;">H</th><th style="text-align: center;">I</th><th style="text-align: center;">F</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">Security</td><td style="text-align: center;">5</td><td style="text-align: center;">5</td><td style="text-align: center;">5</td><td style="text-align: center;">5</td><td style="text-align: center;">1</td></tr><tr class="even"><td style="text-align: left;">Performance</td><td style="text-align: center;">3</td><td style="text-align: center;">3</td><td style="text-align: center;">5</td><td style="text-align: center;">3</td><td style="text-align: center;">2</td></tr><tr class="odd"><td style="text-align: left;">Availability</td><td style="text-align: center;">2</td><td style="text-align: center;">3</td><td style="text-align: center;">5</td><td style="text-align: center;">1</td><td style="text-align: center;">1</td></tr><tr class="even"><td style="text-align: left;">Usability</td><td style="text-align: center;">5</td><td style="text-align: center;">2</td><td style="text-align: center;">2</td><td style="text-align: center;">5</td><td style="text-align: center;">4</td></tr></tbody></table><h4 id="poc2:analysis">Analysis</h4><p><br />
The analysis of the second <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> will explain the evaluation matrix <a href="#table:poc2-evaluation" data-reference-type="ref" data-reference="table:poc2-evaluation">[table:poc2-evaluation]</a> and then focus on the original design idea and what led to a change of mind. It will do so by looking at the relevant modules in Indico that caused the direction for the <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> to alter. It will also be analyzed, what role Solid’s design played in the abandonment of the idea on storing the registration data in data pods and effectively giving up usage control.</p><p>Because the module does not use any authentication libraries to give users the opportunity to log in or store any data in a data pod. It simply fetches public documents, where the user interacting with the module decides what to fetch, no risk is involved. In regards to pulling in malicious documents from a thought trustworthy source the module is embedded into Indico which has validations and makes sure no malicious code is injected into their system. The performance of the module is also in good shape. Only one request happens when the system is doings its tasks. The dictionary for the mapping of values uses the <span data-acronym-label="js" data-acronym-form="singular+short">js</span> <code>Object</code> data type. It allows constant <span class="math inline">𝒪(1)</span> look ups of values. See listing <a href="#lst:autocomplete-mapping" data-reference-type="ref" data-reference="lst:autocomplete-mapping">[lst:autocomplete-mapping]</a> to see an example data store of values. One area of improvement for the performance is the <code>MutationObserver</code> that was explained in paragraph <a href="#poc2-bind" data-reference-type="ref" data-reference="poc2-bind">3.1.2.4.1</a>. Indico throws an event when all dynamically created <span data-acronym-label="dom" data-acronym-form="singular+short">dom</span> elements have been rendered, which is perfect for the binding of the module to the Indico form. It was only later noticed this event exists.</p><h5 id="iterations">Iterations</h5><p><br />
As mentioned before this module went through two iterations of design. Up until the point of creating the architecture of the actual module it was undiscovered that the development of a module that sits on the registration form and allows the decentralized storage is not viable. In figure <a href="#fig:poc-conference_registration_flow-sideways" data-reference-type="ref" data-reference="fig:poc-conference_registration_flow-sideways">[fig:poc-conference_registration_flow-sideways]</a> the exact flow through the conference registration with Solid is shown. It checks if the user wants to register regularly and let Indico have and handle the registration data or if the user wants to use their WebID and thus store the data in their own data pod for maximum usage control.</p><figure><img src="prototype/graphs/poc-conference_registration_flow-sideways.jpeg" style="width:100.0%" alt="" /><figcaption>Flow through the registration flow using Solid account.</figcaption></figure><p><span id="fig:poc-conference_registration_flow-sideways" label="fig:poc-conference_registration_flow-sideways">[fig:poc-conference_registration_flow-sideways]</span></p><p>A few challenges were unidentified at this point, but will be named and explained now.</p><h5 id="modification-of-resource-from-data-pod-1">Modification of Resource From Data Pod</h5><p><br />
As also realized in the first <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> when the application is decoupled from the data and receives it upon request the application hands over the control. This shift of control is core concept in Solid, but problematic for Indico. The use-case of registration data differs with the handling of comments. Comments are often desired to be changed and mostly comments are just presented in the <span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> an no other interaction or processing happens. Registration data is much more complex and requires a lot of processing, such as the submission of abstracts. <em>Call for abstracts</em> is a workflow in Indico, where conference speakers need to upload an abstract about the conference talk. Another are requirement for processing is the field of payments in the registration. A registration form can offer users an option to book an accommodation for example. These fields are called <em>billable</em> fields and are hooked into a checkout process. In Indico’s management section of a conference these actions can be checked for status.</p><ol><li><p>What happens now if this data is not kept in Indico anymore?</p></li><li><p>How is Indico validating a registrant has actually payed their bookings, if all registration information is kept outside of Indico?</p></li><li><p>What happens to generated registration tickets or receipts when a user changes the name on their data pod?</p></li></ol><p>Indico allows the editing of the registration up until a set modification deadline, after it the registration is frozen and fields cannot be updated. It is necessary to have time to process the registrations, such as the booking of an accommodation. The classic setup where every user has their own data pod to store all this registration data would not work without additional functionality. A few things are imaginable.</p><ul><li><p>Store a copy of the registration data in Indico and freeze the copy on modification deadline.</p></li><li><p>Only allow decentralized storage on data where a modification would not matter</p></li></ul><p>Storing a copy of the data is an interesting idea. The freezing of the data would of course require Indico to also save the data in their data stores. If data is modified directly on the data pod, Indico is not necessarily notified by the change. If the latest data should be used in Indico for freezing its own copy, Indico would have to be either notified so it can fetch the new resource from the data pod; the change needs to happen through Indico’s web interface, so Indico can send the request to update it in the data pod, but also in their storage; Indico sends a request to all data pods on modification deadline day and updates the stored version. The latter solution of course needs validation, so that existing is not replaced with corrupt or invalid data, and it is also questionable what happens when the data pod is unavailable, but the data shows a resignation from the conference or anything similar. How is ensured that Indico and the user’s intentions are aligned? The two systems need to be interconnected and it needs to be clear when updates happen. Availability and flow of communication or key aspects for this success.</p><h5 id="communication-flow">Communication Flow</h5><p><br />
Not to cut off the previous issue, but to continue and nurture the aspect of flow in Solid. One crucial feature of conferences and the registration is the ability to reach out to people to let them know about next year’s conference for instance. Consent would ideally only be given to the conference where one had actively sign up for and hence next year’s conference would not be able to read the participant’s list and connect with them and even if the list would be visible, how does the new conference know how to ask for consent to reach out them or do akin actions. Solid offers an <em>inbox</em> and <em>notifications</em> <span class="citation" data-cites="solid-inbox">(“Solid-Inbox,” n.d.)</span>. Solid-Inbox allows anyone in the Solid ecosystem with the public <em>append</em> access control to connect with a WebID. The reached out agent gets a notification as soon as a new item is appended into their inbox. This pro-active initiation is not ideal, as the initiator does not know what data can be asked for. Only when owner actively says: “You are allowed to read this resource A and modify my resource B.”, does the application know about the existence of the data.</p><p>Solid-Inbox seems to be a decent solution for the use-case of Indico reaching out to previous participants. Another suggestion would be to escalate the access scope for Indico and conferences and the agent. Meaning, when a user signs up for a conference the registration asks for consent to allow future contacting. TODO: more here</p><h5 id="performance-of-large-conference">Performance of Large Conference</h5><p><br />
The identical performance issue from the first <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> <a href="#poc1" data-reference-type="ref" data-reference="poc1">3.1.1</a> would arise in the management part of the conference. Storing the source of truth for hundreds of registrations without a local copy in a remote data pod would mean they would have to fetched. Even with the improvements of caching this would still be problematic and would just not be feasible – pods can be down or stored on slow web servers. To make this usable in Indico a proxy is definitely compulsory. The proxy would store the information temporarily and could make it available in a single request for multiple conference managers on separate machines. Warming up the cache by requesting resources from hundreds of data pods would still take a long time. The key takeaway here is that Indico is also <em>serving</em> data to users. Indico is not only taking in the registration data and then processes it and enables some feature for a single user who is only interacting with his own data. On the contrary Indico also serves to a subset of users, the conference managers, data. The progress of serving the data from others is the critical facet.</p><h5 id="payment-on-input-fields">Payment on Input Fields</h5><p><br />
TODO:</p><p>* Gave up usage control * Why it didn’t work, and **what is necessary to make it work** * usage control * question the choice of Indico usage control * versioning of tag of personal data * high-level constraints * implementation * indico limits this * if indico in this way or more generally</p><p>TODO: 1st iteration, save data in pod 2nd iteration, only pull data from pod</p><h5 id="availability-of-crucial-user-data">Availability of Crucial User Data</h5><p><br />
</p><h3 id="deployment-of-indico-instance">Deployment of Indico Instance</h3><p>As the development of the <span data-acronym-label="poc" data-acronym-form="plural+short">pocs</span> should be tested in a running Indico instance by <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> users a deployment outside of the local development machine is necessary. A few prerequisites are needed to set up a staging environment. First is a proper <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> account and a running <span data-acronym-label="ssh" data-acronym-form="singular+short">ssh</span> tunnel to <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s network. It is important to note the environment is also running behind <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s firewall and can only access with the two mentioned prerequisites.</p><p>To deploy Indico with the two <span data-acronym-label="poc" data-acronym-form="plural+short">pocs</span> an own hosting solution could have been chosen, but <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> has great documentation to an OpenStack <span data-acronym-label="vm" data-acronym-form="singular+short">vm</span> <span class="citation" data-cites="openstack">(“OpenStack,” n.d.)</span> workflow, which allows a straightforward deployment of Indico. OpenStack is set of open source cloud software components providing production-level infrastructure. <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> has a list of OpenStack images ready to be used for staging or production environments. A CentOS <span class="citation" data-cites="centos">(“The Centos Project,” n.d.)</span> distribution was chosen and the official Indico guideline to install Indico on Linux. A few caveats were met as the latest not yet release Indico version with Python 3 was used. This was decided with the Indico chief developer to test Indico and to use and have access to the latest developments. The differences to the Indico documentation which only supports previous Indico versions were not complex enough to be mentioned here, as they mostly meant installing different <span data-acronym-label="os" data-acronym-form="singular+short">os</span> packages.</p><p>Indico can be easily installed by building a Python wheel locally, which bundles all dependencies into a single file, and sending it to the OpenStack <span data-acronym-label="vm" data-acronym-form="singular+short">vm</span> where it is then installed with a single <code>pip install</code> command. A few system calls were created from following the Indico documentation, which have to be restarted every time a new Indico version is installed.</p><p>Two additional parts are necessary to make Indico and the <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> modules work properly together. A <span data-acronym-label="tls" data-acronym-form="singular+short">tls</span> certificate is necessary for the authentication flow with real data pods and also always a good practice to have enabled. Let’s Encrypt <span class="citation" data-cites="letsencrypt">(“Let’s Encrypt,” n.d.)</span> is a nonprofit Certificate Authority providing free <span data-acronym-label="tls" data-acronym-form="singular+short">tls</span> certificates and therefore a decent choice when in need for a certificate. Let’s Encrypt certificates cannot be used in <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s network as their ports are blocked by <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s firewall. But again <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> has a setup solution for this providing their own self-signed certificates. These are pre-installed on <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s work computers and thus trusted automatically when used in the staging instance.</p><p>The second improvement to the installation was to enable <span data-acronym-label="sso" data-acronym-form="singular+short">sso</span> allowing authentication through <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s authentication service. This means all users with a valid <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> account can authenticate with the freshly installed Indico instance and therefore provide an authenticated Indico session when needed. This was as easy as adding the domain of the Indico staging instance, installing <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s Python Flask authentication library called <em>flask-multipass</em> <span class="citation" data-cites="flask-multipass">(“Flask-Multipass,” n.d.)</span> and appending some additional configuration to the Indico configuration file.</p><p>TODO: deployment diagram?</p><h2 id="challenges-advantages-and-gaps-of-existing-solid-solutions-versus-cern-ones">Challenges, Advantages, and Gaps of Existing Solid Solutions versus CERN Ones</h2><h3 id="challenges:lack">Lack of Solid Applications</h3><p>The relatively young lifetime of Solid, the only recent matured specifications, the rather unorthodox way of developing applications, vague documentation on how to build for the ecosystem, and sheer lack of motivation to develop a solution for a small group of enthusiasts are major reasons for the lack of sophisticated Solid applications so far. It is for non-developers hard to engage and help in an ecosystem so young. Of course many expertise are needed to shape Solid and the field of data sovereignty, but it takes developers to build applications that can be then used. Without such applications Solid mainly remains theoretical or relies on developers to show the progresses and opportunities. The <em>causality dilemma</em> can be blamed for this. It takes developers to built the software, but if no-one engages because of lacking solutions, no-one will build solutions. But the future is looking bright as the specifications have a approximate date of completion for the summer of 2021.</p><h3 id="encryption-at-rest">Encryption at Rest</h3><p>Just like <span data-acronym-label="http" data-acronym-form="singular+short">http</span> is specified without an encryption layer, so is Solid. The boards of the multiple Solid panels <span class="citation" data-cites="solid-panels">(“Solid Panels,” n.d.)</span> have made the decision that encryption in Solid is not a problem to be solved for now. <span data-acronym-label="http" data-acronym-form="singular+short">http</span> brings encryption with <span data-acronym-label="https" data-acronym-form="singular+short">https</span> and therefore ensures that all communications over <span data-acronym-label="http" data-acronym-form="singular+short">http</span> are encrypted in the Solid ecosystem. For encryption at rest, meaning at the place where the data is stored and can be retrieved from, no encryption is intended. The standards around Solid describe how the access to data is contracted, but if this data is encrypted is up to the storage mechanism, which is up to the provider of the data pod <span class="citation" data-cites="solidproject-faqs">(“Frequently Asked Questions,” n.d.)</span>.</p><p><span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> has a high interest in data sovereignty and requires all their external services to store the collected data on <span data-acronym-label="eu" data-acronym-form="singular+short">eu</span> soil, where the <span data-acronym-label="gdpr" data-acronym-form="singular+short">gdpr</span> support the data authors. For the cases where it is impossible, <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> has their own data centers to store data. In a scenario where <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> seeks a pod provider to enable Solid for their users and the provider cannot guarantee <span data-acronym-label="gdpr" data-acronym-form="singular+short">gdpr</span> compliance nor offers encryption of data in the data center, it is unlikely for <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> to adopt such a solution.</p><p>A hosting on-premise solution also comes with challenges. The involvement with Solid changes from user to maintainer, as a self-hosted solution means it needs to be ensured services are operating as expected at all times. These tasks always demand a lot of resources, especially with outside solutions, where bugs cannot be fixed by an in-house developer team, rather rely on other developers to fix them. Open-source solutions are especially of high risk, since they do not come with any <span data-acronym-label="sla" data-acronym-form="plural+short">slas</span>.</p><h3 id="user-interface-2">User Interface</h3><p>A Solid server is a file system based web server. Modern computers ship with graphical <span data-acronym-label="os" data-acronym-form="plural+short">oss</span> to offer a good user experience when interacting with the file system on such computers. A Solid server being a place for users to manage their data requires for good user experience also a graphical <span data-acronym-label="os" data-acronym-form="singular+short">os</span>. The great benefit of using Linked Data to enable interoperability for Solid applications has led to many solutions for the problem of connecting and using a data pod. One system is called SolidOS <span class="citation" data-cites="solidos">(“An Operating System for Solid,” n.d.)</span> and acts as the <span data-acronym-label="os" data-acronym-form="singular+short">os</span> for Solid servers. SolidOS has many great features that allow the direct use of Linked Data on one’s pod, but it comes with a challenging <span data-acronym-label="ui" data-acronym-form="singular+short">ui</span>. The <span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> is powerful, but filled with bugs and counter-intuitive interactions. For example often a user is prompted to drag and drop a WebID <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> to add the agent as a friend, instead of allowing a regular text input to either copy and paste or just typing of the WebID <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span>.</p><p>SolidOS is currently the best and most sophisticated solution by features, hence comes shipped with <span data-acronym-label="nss" data-acronym-form="singular+short">nss</span> deployments on most pod providers. These <span data-acronym-label="ui" data-acronym-form="singular+short">ui</span> complications make it extremely strenuous even for professionals to use one’s pod, and even more ambitious to on-board newcomers.</p><h3 id="commercial-and-open-source-solutions">Commercial and Open-Source Solutions</h3><p>What started with Sir Tim Berners-Lee as an idea and initial documentation of the idea has now evolved greatly. Today, Solid is an open standard driven by the Solid community. Everybody who wants to participate, help, steer the direction of the movement is welcome and can join at any time. The majority of work in done by Web enthusiasts in their spare time. Sometimes funding can be mobilized to reward developer’s work, like the <span data-acronym-label="eu" data-acronym-form="singular+short">eu</span>, which has funded several Solid-related projects. A great number of startups have also spotted the potential for Solid and now hold large teams. The most notable is Sir Tim’s co-founded company Inrupt <span class="citation" data-cites="inrupt">(“Inrupt,” n.d.)</span>, which focuses entirely on Solid. These companies are invaluable and necessary for the success of Solid, but also bring some complications. In recent progressions discrepancies were faced, which can be good and healthy to debate openly about solutions and find the best one, but discrepancies can likewise cause discomfort. Especially, when decisions are made without involving the community or using the market dominance to steer the movement against planned and defined goals. Solid being so lively with a community full of opinions can lead to a multitude contrasting Server implementation even though it is defined by technical reports and backed by a test-suite offering automatic auditing of implementations. Incidentally, harming the open-source idea for the same reason as mentioned in section <a href="#challenges:lack" data-reference-type="ref" data-reference="challenges:lack">3.2.1</a>, where open-source developers fear to drain their time by developing an idea, which gets then replaced or made redundant by a more resourceful entity.</p><h2 id="continuation-in-the-cern-solid-collaboration">Continuation in the CERN-Solid Collaboration</h2><p>With the two prototypes developed, integrated into Indico, and deployed to a running instance and showing a working solution with Solid principles in Indico, how can <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> proceed with its collaboration attempt? In the following, the two fields of Solid specification implementations and Solid apps shall be looked at and debated what <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>’s role in the future of Solid can be.</p><h3 id="solid-servers">Solid Servers</h3><p>The in <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span> identified Solid implementations remain where they were when composing the research paper <span class="citation" data-cites="cern-solid-investigation-spec">(Schill 2020)</span>. A lot of development has happened for the <span data-acronym-label="css" data-acronym-form="singular+short">css</span>, but it is still in a minor release version and therefore not yet deployed and switch out with <span data-acronym-label="nss" data-acronym-form="singular+short">nss</span> on the public solidcommunity.net domain. This is expected to happen as soon the developers trust the state of <span data-acronym-label="css" data-acronym-form="singular+short">css</span> to facilitate at least the functionality of <span data-acronym-label="nss" data-acronym-form="singular+short">nss</span> and the tooling is in place to transfer all existing data pods currently hosted on the web server. No publicly communicated date has been set in stone for this to occur but it can be assumed to happen this year or next. The Solid specification, on the other hand, has a clearly defined completion date of 30.06.21 <span class="citation" data-cites="solid-tr">(“Solid Technical Reports,” n.d.)</span>. Once the technical reports are completed – but of course remain in the state of a living standard – it can be expected to ease the development process in the Solid ecosystem, as no significant changes in the specification mean no critical new features need to be developed or supported by the server developments.</p><p>The <span data-acronym-label="nss" data-acronym-form="singular+short">nss</span> is maintained by a small team of unfunded open-source developers and can only fix critical bugs and keep the dependencies up-to-date. It is still the most used Solid implementation and recommended data pod solution in conjunction with one of the providers, namely solidcommunity.net <span class="citation" data-cites="solid-community">(“Solid Community,” n.d.)</span>.</p><p><span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> has a number of options in its continuation with Solid servers in their current status.</p><ol><li><p>Outstanding solution through solidcommunity.net</p></li><li><p>Integration with CERNBox</p></li><li><p>Sandboxed <span data-acronym-label="css" data-acronym-form="singular+short">css</span></p></li><li><p>Develop own server solution</p></li></ol><h5 id="outstanding-solution">Outstanding Solution</h5><p><br />
The usage and testing of the <span data-acronym-label="poc" data-acronym-form="plural+short">pocs</span> required a WebID and a data pod. Through extensive research and careful considerations, it was concluded and recommended to all <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> participants to obtain the necessities through solidcommunity.net. The Solid Community is currently the most attractive data pod provider through its physical hosting in the <span data-acronym-label="uk" data-acronym-form="singular+short">uk</span> and openness regarding data usage and usage of <span data-acronym-label="nss" data-acronym-form="singular+short">nss</span> the go-to open-source Solid server solution. <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>, by policy, opts for data storage in European locations based on <span data-acronym-label="oc11" data-acronym-form="singular+short">oc11</span> <span class="citation" data-cites="oc11">(Department 2019)</span>] and <span data-acronym-label="gdpr" data-acronym-form="singular+short">gdpr</span> <span class="citation" data-cites="gdpr">(“General Data Protection Regulation,” n.d.)</span>, and that all data are merely used to provide its services <span class="citation" data-cites="policy-cern-server">(Dimou, n.d.)</span>. Storage locations outside Europe can be possible only if there is a clear justification officially approved by the <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> <span data-acronym-label="odp" data-acronym-form="singular+short">odp</span>. This is also a reason why a hosted instance through Inrupt <span class="citation" data-cites="inrupt">(“Inrupt,” n.d.)</span> not acceptable. Not to mention the expected cost of such a service. An outstanding solution also gives away control over the running version of the Server implementation. As of now most data pod providers run the <span data-acronym-label="nss" data-acronym-form="singular+short">nss</span>, but might switch over to <span data-acronym-label="css" data-acronym-form="singular+short">css</span> – which is desirable but could bring new challenges. Even though a server implementation can only be called a Solid server when it adheres to the Solid specification, which can be tested by an <span data-acronym-label="ists" data-acronym-form="singular+short">ists</span> <span class="citation" data-cites="solid-test-suite">(“Independent Test Suite for Solid,” n.d.)</span>, which also means when the specification is followed, features should be equally supported and implementations should allow interoperability. This has been proven to be difficult when looking at the several browsers, which are all implementing the <span data-acronym-label="http" data-acronym-form="singular+short">http</span>, <span data-acronym-label="html" data-acronym-form="singular+short">html</span>, and <span data-acronym-label="uri" data-acronym-form="singular+short">uri</span> standards (and many more specifications) but are all behaving slightly differently. This might be due to missing resources to stay up to date with feature development, or contrasting interpretations of the specifications. These risks will always endure and hence bring challenges.</p><h5 id="integration-with-cernbox">Integration With CERNBox</h5><p><br />
<span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> uses CERNBox <span class="citation" data-cites="cernbox">(“CERNBox Service,” n.d.)</span> to provide personal cloud storage to all <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> users to host and share files. The service is based of ownCloud <span class="citation" data-cites="owncloud">(“OwnCloud,” n.d.)</span> and hosted on <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> premise. In 2016 Nextcloud <span class="citation" data-cites="nextcloud">(“Nextcloud,” n.d.)</span> was formed from a fork of the open-source core software of ownCloud. PDS Interop <span class="citation" data-cites="pds-interop">(“PDS Interop,” n.d.)</span>, a collective of open-source developers, has developed a Nextcloud <span class="citation" data-cites="nextcloud">(“Nextcloud,” n.d.)</span> plugin to make the file hosting service Solid compatible. A Nextcloud server with the Solid plugin enabled passes currently the complete <span data-acronym-label="ists" data-acronym-form="singular+short">ists</span>. The integration with a running Nextcloud instance is as easy as installing the plugin through the web interface of Nextcloud.</p><p>An integration with CERNBox seems to be a suitable option, provided resources are attributed for taking care of operational requirements and security preoccupations. Adding the Solid implementation into its own cloud storage infrastructure means the CERNBox administrators now also have to administer the Solid Nextcloud plugin. Performance issues due to the thousands of CERN users should be studied in advance. A possibility could be to only enable it for a subset of users to test the integration. Resources for these steps would have to be planned. Most importantly, the attack surface increased by enabling a plugin that includes an extra sharing functionality would have to be analyzed.</p><h5 id="sandboxed-css">Sandboxed <span data-acronym-label="css" data-acronym-form="singular+short">css</span></h5><p><br />
A less risky solution would be to use a sandboxed Solid implementation, such as <span data-acronym-label="css" data-acronym-form="singular+short">css</span>. Once <span data-acronym-label="css" data-acronym-form="singular+short">css</span> is released under a major version it could be deployed to self-contained OpenStack VM instances and then run as a new file storage system. This might seem redundant, considering <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> is already running a cloud storage system with CERNBox, but the added risk is much lower to infiltrate an existing system. The new <span data-acronym-label="css" data-acronym-form="singular+short">css</span> deployments could solely be used for Solid related file storage and sharing and then incrementally be more integrated with existing <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> solutions. Even though the complexity might not be as high as with the installation through the Nextcloud plugin in CERNBox it still requires administrative work to keep the deployments running and updating <span data-acronym-label="css" data-acronym-form="singular+short">css</span> regularly. Further, to even add more value and usability to this integration the <span data-acronym-label="css" data-acronym-form="singular+short">css</span> could be used with the <span data-acronym-label="cas" data-acronym-form="singular+short">cas</span>. Meaning, instead of identifying with an external <span data-acronym-label="idp" data-acronym-form="singular+short">idp</span>, the <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> users could authenticate with their existing <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> accounts using <span data-acronym-label="cas" data-acronym-form="singular+short">cas</span>, which would need to be extended to also provide WebIDs.</p><p>Open-source and community-owned software brings a lot of advantage but also needs to be tread lightly. Software as this always relies on independent developers to fix bugs, develop features, which will not happen as fast when using a product with <span data-acronym-label="sla" data-acronym-form="plural+short">slas</span>. A motivator for <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> to get involved with the development of open-source Solid services.</p><h5 id="own-server-solution">Own Server Solution</h5><p><br />
Because Solid is an open standard and allows free development of own solutions it is always a possibility to develop a <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> Solid server from scratch. This is from all solutions the most ambitious one and least recommended, as it demands too many resources and a sophisticated solution through <span data-acronym-label="css" data-acronym-form="singular+short">css</span> is almost release, which would benefit from additional given resources.</p><h3 id="solid-applications">Solid Applications</h3><p>Uncertainties in the adoption of a CERN Solid server do not help to advocate the usage of Solid applications or even the development of new Solid services. The <span data-acronym-label="poc" data-acronym-form="plural+short">pocs</span> have shown realistic use-cases for decentralized data storage. The architectural evaluation has shown the maturity, but also the flaws that would need to be tackled in order for them to be adopted into the production instance of Indico at <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> and then it also needs to be analyzed if those <span data-acronym-label="poc" data-acronym-form="plural+short">pocs</span> would even find users or it would be just a dead feature. Indico has also been established to not be the perfect candidate for a complete Solid overtake in its architecture. Therefore, less complex software at <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> might be a better target for further Solid-based developments. One prospect is the <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> Slides’ App <span class="citation" data-cites="cern-slides">(“CERN-Solid and the Slides’ App,” n.d.)</span>, which is a web application recently developed as part of a student project and is in production-ready quality and planned to be used as a main slides maker for <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> users. A possibility for <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> to remain present in the Solid ecosystem is to further the development of the Slides’ App and even make it Solid compatible. The final resource combining all slides into a single presentation could be stored in a data pod, and even further thought all the information on the slides could be connected to resources from data pods and thus leveraging a decentralized approach to data management. Everything would be connected, could be reused, and would be completely interoperable. Information could still come from non-<span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span> resources but could be transformed to <span data-acronym-label="rdf" data-acronym-form="singular+short">rdf</span> upon entry. Resulting in an attractive hybrid application, that could be used without the need of a data pod or WebID, but would still find users as it is a wanted software at <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> and would bring the decentralized resource management to the ones who want to use it.</p><p>Another minor idea in the field of application development is based from the second <span data-acronym-label="poc" data-acronym-form="singular+short">poc</span> the autocomplete module, that the existing <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> application could be enriched by using more structured data concepts in their code. As an example attache the <span data-acronym-label="html" data-acronym-form="singular+short">html</span> <code>autocomplete</code> attribute to known input fields. Add more common input fields to allow the pre-definition of semantic structure on them. This way the forms can be reasoned about easier by machines, but this effort should not be limited to <span data-acronym-label="html" data-acronym-form="singular+short">html</span> forms and can be extended to all sorts of fields where Schema.org has a description for.</p><h3 id="recommendation">Recommendation</h3><p>A recommendation based on the previous two talked about fields of server implementation and application development for <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> is as follows.</p><p>The current efforts from <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> are rather limited in resources, general interest is present, but many factors hinder further active involvement with Solid. A public communication channel used to share milestones in the investigation is left unread. Announcements and call for testings of the <span data-acronym-label="poc" data-acronym-form="plural+short">pocs</span> in <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> internal email groups reaching hundreds of <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> users are met with participation, compliments, and comments, but still small in number. A presentation given at the HEPiX <span class="citation" data-cites="hepix">(“HEPiX Online,” n.d.)</span> was well received by international Information Technology staff, from High Energy Physics and Nuclear Physics laboratories and institutes. So, a general curiosity exists, and a few enthusiasts are awaiting a Solid-like project to be supported by <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>, but it seems more generally that <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> is interested in an observing position as of now. University students are currently sought to work on the follow-up <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span>-Solid project <span class="citation" data-cites="cern-slides">(“CERN-Solid and the Slides’ App,” n.d.)</span>. This will be beneficial for <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> for continuing further understanding of the Solid ecosystem and receive the latest developments in server implementations, specification evolution, and new exciting Solid apps. It will also benefit the students for their studies and experience in dealing with complex projects and environments. Once the Solid ecosystem has matured enough and has shown through other Solid app developments the possibilities and innovations with Solid, <span data-acronym-label="cern" data-acronym-form="singular+short">cern</span> can reevaluate its position and consider participating more actively by either Solid app development or hosting Solid pods for its users.</p><h1 id="conclusion">Conclusion</h1><p>* Solid lives through the community, when only one company does the implementation it will not thrive * vicious cycle</p><div id="refs" class="references hanging-indent" role="doc-bibliography"><div id="ref-angularjs"><p>“AngularJS.” n.d. <a href="https://angularjs.org/">https://angularjs.org/</a>.</p></div><div id="ref-solidos"><p>“An Operating System for Solid.” n.d. <a href="https://github.com/solid/solidos">https://github.com/solid/solidos</a>.</p></div><div id="ref-pyoidc"><p>“A Python Openid Connect Implementation.” n.d. <a href="https://github.com/OpenIDC/pyoidc/">https://github.com/OpenIDC/pyoidc/</a>.</p></div><div id="ref-BassSoftwareArchitecture2003"><p>Bass, Len, Paul Clements, and Rick Kazman. 2012. <em>Software Architecture in Practice (3nd Edition)</em>. Addison-Wesley Professional.</p></div><div id="ref-timbl-bio"><p>Berners-Lee, Tim. 2020. “Longer Biography.” 2020. <a href="https://www.w3.org/People/Berners-Lee/Longer.html">https://www.w3.org/People/Berners-Lee/Longer.html</a>.</p></div><div id="ref-vint-cerf"><p>“Big Data and Social Media.” n.d. <a href="https://indico.cern.ch/event/702278/">https://indico.cern.ch/event/702278/</a>.</p></div><div id="ref-solid-protocol"><p>Capadisli, Sarven, Tim Berners-Lee, Ruben Verborgh, Kjetil Kjernsmo, Justin Bingham, and Dmitri Zagidulin. 2020. “The Solid Ecosystem.” W3C Solid Community Group.</p></div><div id="ref-cern-indico"><p>CERN. 2020. “Indico.” 2020. <a href="https://getindico.org">https://getindico.org</a>.</p></div><div id="ref-cern-indico-docs"><p>———. n.d. “Learning Indico - Conference.” <a href="https://learn.getindico.io/conferences/about/">https://learn.getindico.io/conferences/about/</a>.</p></div><div id="ref-cernbox"><p>“CERNBox Service.” n.d. <a href="https://information-technology.web.cern.ch/services/cernbox-service">https://information-technology.web.cern.ch/services/cernbox-service</a>.</p></div><div id="ref-cern-slides"><p>“CERN-Solid and the Slides’ App.” n.d. <a href="https://it-student-projects.web.cern.ch/projects/cern-solid-and-slides-app">https://it-student-projects.web.cern.ch/projects/cern-solid-and-slides-app</a>.</p></div><div id="ref-cern-solid-code-investigation-project-description"><p>“CERN-Solid Code Investigation.” n.d. <a href="https://it-student-projects.web.cern.ch/projects/cern-solid-code-investigation">https://it-student-projects.web.cern.ch/projects/cern-solid-code-investigation</a>.</p></div><div id="ref-asqa-paper"><p>Christensen, Henrik Bærbak, Klaus Marius Hansen, and Bo Lindstrøm. 2010. “ASQA: Architectural Software Quality Assurance: Software Architecture at Work - Technical Report 5:” WorkingPaper. Department of Computer Science, Aarhus University; Department of Computer Science, Aarhus University.</p></div><div id="ref-dom-spec"><p>community, WHATWG. 2021a. “DOM Standard.” WHATWG community.</p></div><div id="ref-html-spec"><p>———. 2021b. “HTML Standard.” WHATWG community.</p></div><div id="ref-Cyganiak:14:RCA"><p>Cyganiak, Richard, David Wood, and Markus Lanthaler. 2014. “RDF 1.1 Concepts and Abstract Syntax.” W3C Recommendation. W3C.</p></div><div id="ref-oc11"><p>Department, CERN Human Resource. 2019. “THE Processing of Personal Data at Cern.” <em>OPERATIONAL CIRCULAR NO.11</em>. <a href="https://cds.cern.ch/record/2651311/files/Circ_Op_Angl_No11_Rev0.pdf">https://cds.cern.ch/record/2651311/files/Circ_Op_Angl_No11_Rev0.pdf</a>.</p></div><div id="ref-policy-cern-server"><p>Dimou, Maria. n.d. “Policy for a Cern Solid Server.” <a href="https://codimd.web.cern.ch/s/zl3yGAfYZ#">https://codimd.web.cern.ch/s/zl3yGAfYZ#</a>.</p></div><div id="ref-dpop-spec"><p>Fett, D., B. Campbell, J. Bradley, T. Lodderstedt, M. Jones, and D. Waite. 2021. “OAuth 2.0 Demonstrating Proof-of-Possession at the Application Layer (Dpop).” Internet Engineering Task Force (IETF).</p></div><div id="ref-http-caching"><p>Fielding, R., M. Nottingham, and J. Reschke. 2014. “Hypertext Transfer Protocol (Http/1.1): Caching.” Internet Engineering Task Force (IETF).</p></div><div id="ref-flask-multipass"><p>“Flask-Multipass.” n.d. <a href="https://github.com/indico/flask-multipass">https://github.com/indico/flask-multipass</a>.</p></div><div id="ref-solidproject-faqs"><p>“Frequently Asked Questions.” n.d. <a href="https://solidproject.org/faqs">https://solidproject.org/faqs</a>.</p></div><div id="ref-gdpr"><p>“General Data Protection Regulation.” n.d. <a href="https://gdpr-info.eu">https://gdpr-info.eu</a>.</p></div><div id="ref-hepix"><p>“HEPiX Online.” n.d. <a href="https://www.hepix.org/">https://www.hepix.org/</a>.</p></div><div id="ref-solid-test-suite"><p>“Independent Test Suite for Solid.” n.d. <a href="https://github.com/solid/test-suite/">https://github.com/solid/test-suite/</a>.</p></div><div id="ref-inrupt"><p>“Inrupt.” n.d. <a href="https://inrupt.com/">https://inrupt.com/</a>.</p></div><div id="ref-solid-ecosystem-oidc"><p>(Inrupt), Aaron Coburn, elf Pavlik, and Dmitri Zagidulin. 2021. “SOLID-Oidc.” W3C.</p></div><div id="ref-letsencrypt"><p>“Let’s Encrypt.” n.d. <a href="https://letsencrypt.org/">https://letsencrypt.org/</a>.</p></div><div id="ref-Malhotra:15:LDP"><p>Malhotra, A., S. Speicher, and J. Arwe. 2015. “Linked Data Platform 1.0.” W3C Recommendation. W3C.</p></div><div id="ref-twitter-edit"><p>“New User Faq: Tweeting.” n.d. <a href="https://help.twitter.com/en/new-user-faq">https://help.twitter.com/en/new-user-faq</a>.</p></div><div id="ref-nextcloud"><p>“Nextcloud.” n.d. <a href="https://nextcloud.com/">https://nextcloud.com/</a>.</p></div><div id="ref-openstack"><p>“OpenStack.” n.d. <a href="https://www.openstack.org/">https://www.openstack.org/</a>.</p></div><div id="ref-owncloud"><p>“OwnCloud.” n.d. <a href="https://owncloud.com/">https://owncloud.com/</a>.</p></div><div id="ref-pds-interop"><p>“PDS Interop.” n.d. <a href="https://pdsinterop.org/">https://pdsinterop.org/</a>.</p></div><div id="ref-postgresql"><p>“PostgreSQL: The World’s Most Advanced Open Source Relational Database.” n.d. <a href="https://www.postgresql.org">https://www.postgresql.org</a>.</p></div><div id="ref-titov"><p>“Practical Use of Xml.” n.d. <a href="https://indico.cern.ch/event/420426/">https://indico.cern.ch/event/420426/</a>.</p></div><div id="ref-axios"><p>“Promise Based Http Client for the Browser and Node.js.” n.d. <a href="https://axios-http.com/">https://axios-http.com/</a>.</p></div><div id="ref-Prud:hommeaux:14:RT"><p>Prud’hommeaux, Eric, and Gavin Carothers. 2014. “RDF 1.1 Turtle.” W3C Recommendation. W3C.</p></div><div id="ref-rdflib.js"><p>“Rdflib.js.” n.d. <a href="https://github.com/linkeddata/rdflib.js/">https://github.com/linkeddata/rdflib.js/</a>.</p></div><div id="ref-schema-org"><p>“Schema.org.” n.d. <a href="https://schema.org/">https://schema.org/</a>.</p></div><div id="ref-cern-solid-investigation-spec"><p>Schill, Jan. 2020. “CERN-Solid Code Investigation: Specifications and Comparable Implementations.” WorkingPaper. IT University of Copenhagen.</p></div><div id="ref-app-launcher"><p>“Solid-App-Launcher.” n.d. <a href="https://github.com/ylebre/solid-app-launcher">https://github.com/ylebre/solid-app-launcher</a>.</p></div><div id="ref-solid-community"><p>“Solid Community.” n.d. <a href="https://solidcommunity.net">https://solidcommunity.net</a>.</p></div><div id="ref-inrupt-dataset"><p>“SolidDataset.” n.d. <a href="https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset">https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset</a>.</p></div><div id="ref-solid-inbox"><p>“Solid-Inbox.” n.d. <a href="https://github.com/solid/solid-inbox">https://github.com/solid/solid-inbox</a>.</p></div><div id="ref-solid-client-authn-browser"><p>“Solid Javascript Authentication - Solid-Client-Authn.” n.d.a. <a href="https://github.com/inrupt/solid-client-authn-js/">https://github.com/inrupt/solid-client-authn-js/</a>.</p></div><div id="ref-solid-client-authn-node"><p>“Solid Javascript Authentication - Solid-Client-Authn.” n.d.b. <a href="https://github.com/inrupt/solid-client-authn-js/">https://github.com/inrupt/solid-client-authn-js/</a>.</p></div><div id="ref-solid-client-js"><p>“Solid Javascript Client: Solid-Client.” n.d. <a href="https://github.com/inrupt/solid-client-js/">https://github.com/inrupt/solid-client-js/</a>.</p></div><div id="ref-solid-panels"><p>“Solid Panels.” n.d. <a href="https://github.com/solid/process/blob/35396c6e5a1afce674361259f63ef1b485cf6d96/panels.md">https://github.com/solid/process/blob/35396c6e5a1afce674361259f63ef1b485cf6d96/panels.md</a>.</p></div><div id="ref-solid-tr"><p>“Solid Technical Reports.” n.d. <a href="https://solidproject.org/TR">https://solidproject.org/TR</a>.</p></div><div id="ref-stallings"><p>Stallings, William, and Lawrie Brown. 2014. <em>Computer Security: Principles and Practice</em>. 3rd ed. USA: Prentice Hall Press.</p></div><div id="ref-centos"><p>“The Centos Project.” n.d. <a href="https://www.centos.org/">https://www.centos.org/</a>.</p></div><div id="ref-solid-common-vocab-js"><p>“The Solid Common Vocab Library for Javascript.” n.d. <a href="https://github.com/inrupt/solid-common-vocab-js">https://github.com/inrupt/solid-common-vocab-js</a>.</p></div><div id="ref-inrupt-thing"><p>“Thing.” n.d. <a href="https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing">https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing</a>.</p></div><div id="ref-vcard-spec"><p>Viagenie, S. Perreault. 2011. “VCard Format Specification.” Internet Engineering Task Force (IETF).</p></div><div id="ref-wac"><p>“Web Access Control (Wac).” n.d. <a href="https://solid.github.io/web-access-control-spec/">https://solid.github.io/web-access-control-spec/</a>.</p></div><div id="ref-cache-warming"><p>“What Is Cache Warming?” n.d. <a href="https://www.section.io/blog/what-is-cache-warming/">https://www.section.io/blog/what-is-cache-warming/</a>.</p></div></div>
